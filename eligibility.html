<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Michael Škvrňák">
<meta name="dcterms.date" content="2025-06-06">

<title>Eligibility and take up of housing benefits</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="eligibility_files/libs/clipboard/clipboard.min.js"></script>
<script src="eligibility_files/libs/quarto-html/quarto.js"></script>
<script src="eligibility_files/libs/quarto-html/popper.min.js"></script>
<script src="eligibility_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="eligibility_files/libs/quarto-html/anchor.min.js"></script>
<link href="eligibility_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="eligibility_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="eligibility_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="eligibility_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="eligibility_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Eligibility and take up of housing benefits</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Michael Škvrňák </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 6, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(haven)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Hmisc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'Hmisc'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:dplyr':

    src, summarize</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    format.pval, units</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(targets)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MatchIt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'MatchIt' was built under R version 4.4.1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tar_load</span>(r_silc_2023)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>r_silc_2023 <span class="ot">&lt;-</span> r_silc_2023 <span class="sc">%&gt;%</span> </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">country =</span> <span class="fu">as.character</span>(country))</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>if_na <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">replace =</span> <span class="dv">0</span>){</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">if_else</span>(<span class="fu">is.na</span>(x), replace, x)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>calculate_dimensions <span class="ot">&lt;-</span> <span class="cf">function</span>(df){</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> </span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">dim_affordability =</span> housing_overburden,</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">dim_insecurity =</span> arrears_mortgage_rent <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Yes, once"</span>, <span class="st">"Yes, twice or more"</span>) <span class="sc">|</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>          arrears_utility <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Yes, once"</span>, <span class="st">"Yes, twice or more"</span>),</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>      <span class="at">dim_quality =</span> <span class="fu">case_when</span>(</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>        <span class="fu">is.na</span>(overcrowded_eurostat) <span class="sc">~</span> <span class="cn">NA</span>,</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> (overcrowded_eurostat <span class="sc">|</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>          ability_to_keep_warm <span class="sc">==</span> <span class="st">"No"</span>),</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>      <span class="at">dim_quality2 =</span> <span class="fu">case_when</span>(</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>        <span class="fu">is.na</span>(overcrowded_eurostat) <span class="sc">~</span> <span class="cn">NA</span>,</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> (overcrowded_eurostat <span class="sc">|</span></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>                  ability_to_keep_warm <span class="sc">==</span> <span class="st">"No"</span> <span class="sc">|</span></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>                  bath_shower <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"No"</span>, <span class="st">"Yes, shared"</span>) <span class="sc">|</span></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>                  toilet <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"No"</span>, <span class="st">"Yes, shared"</span>) <span class="sc">|</span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>                  leaks_damp <span class="sc">==</span> <span class="st">"Yes"</span>),</span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>      <span class="at">dim_locality =</span></span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a>        probs_noise <span class="sc">==</span> <span class="st">"Yes"</span> <span class="sc">|</span></span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a>          probs_crime <span class="sc">==</span> <span class="st">"Yes"</span> <span class="sc">|</span></span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>          probs_pollution <span class="sc">==</span> <span class="st">"Yes"</span>,</span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="czechia" class="level2">
<h2 class="anchored" data-anchor-id="czechia">Czechia</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>cz_2023 <span class="ot">&lt;-</span> r_silc_2023 <span class="sc">%&gt;%</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">"CZ"</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>CZ_EXCHANGE_RATE <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">/</span> <span class="fl">24.564</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>eligibility_cz_2023 <span class="ot">&lt;-</span> cz_2023 <span class="sc">%&gt;%</span> </span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">income_disposable_wo_housing =</span> income_disposable <span class="sc">-</span> allowance_housing,</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">r_rent =</span> <span class="fu">if_na</span>(rent, <span class="dv">0</span>),</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">r_mortgage =</span> <span class="fu">if_na</span>(mortgage_principal_payment, <span class="dv">0</span>),</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">main_energy_source =</span> <span class="fu">as_factor</span>(main_energy_source),</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">urbanisation =</span> <span class="fu">as_factor</span>(urbanisation),</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">prague =</span> <span class="fu">as.character</span>(region) <span class="sc">==</span> <span class="st">"CZ01"</span>,</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">month_income =</span> (income_disposable <span class="sc">-</span> allowance_housing) <span class="sc">/</span> <span class="dv">12</span>,</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">normative_costs =</span> <span class="fu">case_when</span>(</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Tenants + Prague</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>      tenure_status <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Tenant, rent at market price"</span>, <span class="st">"Tenant, rent at reduced price"</span>, </span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Tenant, rent free"</span>) <span class="sc">&amp;</span> prague <span class="sc">&amp;</span> n_persons <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> </span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>        <span class="dv">10121</span> <span class="sc">*</span> CZ_EXCHANGE_RATE,</span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>      tenure_status <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Tenant, rent at market price"</span>, <span class="st">"Tenant, rent at reduced price"</span>, </span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Tenant, rent free"</span>) <span class="sc">&amp;</span> prague <span class="sc">&amp;</span> n_persons <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> </span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>        <span class="dv">13629</span> <span class="sc">*</span> CZ_EXCHANGE_RATE,</span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>      tenure_status <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Tenant, rent at market price"</span>, <span class="st">"Tenant, rent at reduced price"</span>, </span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Tenant, rent free"</span>) <span class="sc">&amp;</span> prague <span class="sc">&amp;</span> n_persons <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> </span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>        <span class="dv">18312</span> <span class="sc">*</span> CZ_EXCHANGE_RATE,</span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>      tenure_status <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Tenant, rent at market price"</span>, <span class="st">"Tenant, rent at reduced price"</span>, </span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Tenant, rent free"</span>) <span class="sc">&amp;</span> prague <span class="sc">&amp;</span> n_persons <span class="sc">&gt;=</span> <span class="dv">4</span> <span class="sc">~</span> </span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>        <span class="dv">22495</span> <span class="sc">*</span> CZ_EXCHANGE_RATE,</span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Tenants + &gt; 100 tis.</span></span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a>      tenure_status <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Tenant, rent at market price"</span>, <span class="st">"Tenant, rent at reduced price"</span>, </span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Tenant, rent free"</span>) <span class="sc">&amp;</span> </span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>        urbanisation <span class="sc">==</span> <span class="st">"Cities (DB010&gt;=2021), Densely populated area (EE,LV:1,2=1) (DB010&lt;2021)"</span> <span class="sc">&amp;</span></span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>        n_persons <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> </span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a>        <span class="dv">8271</span> <span class="sc">*</span> CZ_EXCHANGE_RATE,</span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a>      tenure_status <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Tenant, rent at market price"</span>, <span class="st">"Tenant, rent at reduced price"</span>, </span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Tenant, rent free"</span>) <span class="sc">&amp;</span> </span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a>        urbanisation <span class="sc">==</span> <span class="st">"Cities (DB010&gt;=2021), Densely populated area (EE,LV:1,2=1) (DB010&lt;2021)"</span> <span class="sc">&amp;</span></span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a>        n_persons <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> </span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a>        <span class="dv">11097</span> <span class="sc">*</span> CZ_EXCHANGE_RATE,</span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a>      tenure_status <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Tenant, rent at market price"</span>, <span class="st">"Tenant, rent at reduced price"</span>, </span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Tenant, rent free"</span>) <span class="sc">&amp;</span> </span>
<span id="cb12-42"><a href="#cb12-42" aria-hidden="true" tabindex="-1"></a>        urbanisation <span class="sc">==</span> <span class="st">"Cities (DB010&gt;=2021), Densely populated area (EE,LV:1,2=1) (DB010&lt;2021)"</span> <span class="sc">&amp;</span></span>
<span id="cb12-43"><a href="#cb12-43" aria-hidden="true" tabindex="-1"></a>        n_persons <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> </span>
<span id="cb12-44"><a href="#cb12-44" aria-hidden="true" tabindex="-1"></a>        <span class="dv">15000</span> <span class="sc">*</span> CZ_EXCHANGE_RATE,</span>
<span id="cb12-45"><a href="#cb12-45" aria-hidden="true" tabindex="-1"></a>      tenure_status <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Tenant, rent at market price"</span>, <span class="st">"Tenant, rent at reduced price"</span>, </span>
<span id="cb12-46"><a href="#cb12-46" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Tenant, rent free"</span>) <span class="sc">&amp;</span> </span>
<span id="cb12-47"><a href="#cb12-47" aria-hidden="true" tabindex="-1"></a>        urbanisation <span class="sc">==</span> <span class="st">"Cities (DB010&gt;=2021), Densely populated area (EE,LV:1,2=1) (DB010&lt;2021)"</span> <span class="sc">&amp;</span></span>
<span id="cb12-48"><a href="#cb12-48" aria-hidden="true" tabindex="-1"></a>        n_persons <span class="sc">&gt;=</span> <span class="dv">4</span> <span class="sc">~</span> </span>
<span id="cb12-49"><a href="#cb12-49" aria-hidden="true" tabindex="-1"></a>        <span class="dv">18502</span> <span class="sc">*</span> CZ_EXCHANGE_RATE,</span>
<span id="cb12-50"><a href="#cb12-50" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Tenants + &gt; 50 tis.</span></span>
<span id="cb12-51"><a href="#cb12-51" aria-hidden="true" tabindex="-1"></a>      tenure_status <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Tenant, rent at market price"</span>, <span class="st">"Tenant, rent at reduced price"</span>, </span>
<span id="cb12-52"><a href="#cb12-52" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Tenant, rent free"</span>) <span class="sc">&amp;</span> </span>
<span id="cb12-53"><a href="#cb12-53" aria-hidden="true" tabindex="-1"></a>        urbanisation <span class="sc">==</span> <span class="st">"Towns and suburbs (MT:2,3=2) (DB010&gt;=2021), Intermediate area (MT:2,3=2) (DB010&lt;2021)"</span> <span class="sc">&amp;</span></span>
<span id="cb12-54"><a href="#cb12-54" aria-hidden="true" tabindex="-1"></a>        n_persons <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> </span>
<span id="cb12-55"><a href="#cb12-55" aria-hidden="true" tabindex="-1"></a>        <span class="dv">7935</span> <span class="sc">*</span> CZ_EXCHANGE_RATE,</span>
<span id="cb12-56"><a href="#cb12-56" aria-hidden="true" tabindex="-1"></a>      tenure_status <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Tenant, rent at market price"</span>, <span class="st">"Tenant, rent at reduced price"</span>, </span>
<span id="cb12-57"><a href="#cb12-57" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Tenant, rent free"</span>) <span class="sc">&amp;</span> </span>
<span id="cb12-58"><a href="#cb12-58" aria-hidden="true" tabindex="-1"></a>        urbanisation <span class="sc">==</span> <span class="st">"Towns and suburbs (MT:2,3=2) (DB010&gt;=2021), Intermediate area (MT:2,3=2) (DB010&lt;2021)"</span> <span class="sc">&amp;</span></span>
<span id="cb12-59"><a href="#cb12-59" aria-hidden="true" tabindex="-1"></a>        n_persons <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> </span>
<span id="cb12-60"><a href="#cb12-60" aria-hidden="true" tabindex="-1"></a>        <span class="dv">10637</span> <span class="sc">*</span> CZ_EXCHANGE_RATE,</span>
<span id="cb12-61"><a href="#cb12-61" aria-hidden="true" tabindex="-1"></a>      tenure_status <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Tenant, rent at market price"</span>, <span class="st">"Tenant, rent at reduced price"</span>, </span>
<span id="cb12-62"><a href="#cb12-62" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Tenant, rent free"</span>) <span class="sc">&amp;</span> </span>
<span id="cb12-63"><a href="#cb12-63" aria-hidden="true" tabindex="-1"></a>        urbanisation <span class="sc">==</span> <span class="st">"Towns and suburbs (MT:2,3=2) (DB010&gt;=2021), Intermediate area (MT:2,3=2) (DB010&lt;2021)"</span> <span class="sc">&amp;</span></span>
<span id="cb12-64"><a href="#cb12-64" aria-hidden="true" tabindex="-1"></a>        n_persons <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> </span>
<span id="cb12-65"><a href="#cb12-65" aria-hidden="true" tabindex="-1"></a>        <span class="dv">14399</span> <span class="sc">*</span> CZ_EXCHANGE_RATE,</span>
<span id="cb12-66"><a href="#cb12-66" aria-hidden="true" tabindex="-1"></a>      tenure_status <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Tenant, rent at market price"</span>, <span class="st">"Tenant, rent at reduced price"</span>, </span>
<span id="cb12-67"><a href="#cb12-67" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Tenant, rent free"</span>) <span class="sc">&amp;</span> </span>
<span id="cb12-68"><a href="#cb12-68" aria-hidden="true" tabindex="-1"></a>        urbanisation <span class="sc">==</span> <span class="st">"Towns and suburbs (MT:2,3=2) (DB010&gt;=2021), Intermediate area (MT:2,3=2) (DB010&lt;2021)"</span> <span class="sc">&amp;</span></span>
<span id="cb12-69"><a href="#cb12-69" aria-hidden="true" tabindex="-1"></a>        n_persons <span class="sc">&gt;=</span> <span class="dv">4</span> <span class="sc">~</span> </span>
<span id="cb12-70"><a href="#cb12-70" aria-hidden="true" tabindex="-1"></a>        <span class="dv">17777</span> <span class="sc">*</span> CZ_EXCHANGE_RATE,</span>
<span id="cb12-71"><a href="#cb12-71" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Tenants + &lt; 49.</span></span>
<span id="cb12-72"><a href="#cb12-72" aria-hidden="true" tabindex="-1"></a>      tenure_status <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Tenant, rent at market price"</span>, <span class="st">"Tenant, rent at reduced price"</span>, </span>
<span id="cb12-73"><a href="#cb12-73" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Tenant, rent free"</span>) <span class="sc">&amp;</span> </span>
<span id="cb12-74"><a href="#cb12-74" aria-hidden="true" tabindex="-1"></a>        urbanisation <span class="sc">==</span> <span class="st">"Rural areas (DB010&gt;=2021), Thinly populated area (DB010&lt;2021)"</span> <span class="sc">&amp;</span></span>
<span id="cb12-75"><a href="#cb12-75" aria-hidden="true" tabindex="-1"></a>        n_persons <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> </span>
<span id="cb12-76"><a href="#cb12-76" aria-hidden="true" tabindex="-1"></a>        <span class="dv">6929</span> <span class="sc">*</span> CZ_EXCHANGE_RATE,</span>
<span id="cb12-77"><a href="#cb12-77" aria-hidden="true" tabindex="-1"></a>      tenure_status <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Tenant, rent at market price"</span>, <span class="st">"Tenant, rent at reduced price"</span>, </span>
<span id="cb12-78"><a href="#cb12-78" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Tenant, rent free"</span>) <span class="sc">&amp;</span> </span>
<span id="cb12-79"><a href="#cb12-79" aria-hidden="true" tabindex="-1"></a>        urbanisation <span class="sc">==</span> <span class="st">"Rural areas (DB010&gt;=2021), Thinly populated area (DB010&lt;2021)"</span> <span class="sc">&amp;</span></span>
<span id="cb12-80"><a href="#cb12-80" aria-hidden="true" tabindex="-1"></a>        n_persons <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> </span>
<span id="cb12-81"><a href="#cb12-81" aria-hidden="true" tabindex="-1"></a>        <span class="dv">9261</span> <span class="sc">*</span> CZ_EXCHANGE_RATE,</span>
<span id="cb12-82"><a href="#cb12-82" aria-hidden="true" tabindex="-1"></a>      tenure_status <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Tenant, rent at market price"</span>, <span class="st">"Tenant, rent at reduced price"</span>, </span>
<span id="cb12-83"><a href="#cb12-83" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Tenant, rent free"</span>) <span class="sc">&amp;</span> </span>
<span id="cb12-84"><a href="#cb12-84" aria-hidden="true" tabindex="-1"></a>        urbanisation <span class="sc">==</span> <span class="st">"Rural areas (DB010&gt;=2021), Thinly populated area (DB010&lt;2021)"</span> <span class="sc">&amp;</span></span>
<span id="cb12-85"><a href="#cb12-85" aria-hidden="true" tabindex="-1"></a>        n_persons <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> </span>
<span id="cb12-86"><a href="#cb12-86" aria-hidden="true" tabindex="-1"></a>        <span class="dv">12599</span> <span class="sc">*</span> CZ_EXCHANGE_RATE,</span>
<span id="cb12-87"><a href="#cb12-87" aria-hidden="true" tabindex="-1"></a>      tenure_status <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Tenant, rent at market price"</span>, <span class="st">"Tenant, rent at reduced price"</span>, </span>
<span id="cb12-88"><a href="#cb12-88" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Tenant, rent free"</span>) <span class="sc">&amp;</span> </span>
<span id="cb12-89"><a href="#cb12-89" aria-hidden="true" tabindex="-1"></a>        urbanisation <span class="sc">==</span> <span class="st">"Rural areas (DB010&gt;=2021), Thinly populated area (DB010&lt;2021)"</span> <span class="sc">&amp;</span></span>
<span id="cb12-90"><a href="#cb12-90" aria-hidden="true" tabindex="-1"></a>        n_persons <span class="sc">&gt;=</span> <span class="dv">4</span> <span class="sc">~</span> </span>
<span id="cb12-91"><a href="#cb12-91" aria-hidden="true" tabindex="-1"></a>        <span class="dv">15606</span> <span class="sc">*</span> CZ_EXCHANGE_RATE, </span>
<span id="cb12-92"><a href="#cb12-92" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb12-93"><a href="#cb12-93" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Owners</span></span>
<span id="cb12-94"><a href="#cb12-94" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span>tenure_status <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Tenant, rent at market price"</span>, <span class="st">"Tenant, rent at reduced price"</span>, </span>
<span id="cb12-95"><a href="#cb12-95" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Tenant, rent free"</span>) <span class="sc">&amp;</span> n_persons <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> </span>
<span id="cb12-96"><a href="#cb12-96" aria-hidden="true" tabindex="-1"></a>        <span class="dv">6232</span> <span class="sc">*</span> CZ_EXCHANGE_RATE,</span>
<span id="cb12-97"><a href="#cb12-97" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span>tenure_status <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Tenant, rent at market price"</span>, <span class="st">"Tenant, rent at reduced price"</span>, </span>
<span id="cb12-98"><a href="#cb12-98" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Tenant, rent free"</span>) <span class="sc">&amp;</span> n_persons <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> </span>
<span id="cb12-99"><a href="#cb12-99" aria-hidden="true" tabindex="-1"></a>        <span class="dv">8432</span> <span class="sc">*</span> CZ_EXCHANGE_RATE,</span>
<span id="cb12-100"><a href="#cb12-100" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span>tenure_status <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Tenant, rent at market price"</span>, <span class="st">"Tenant, rent at reduced price"</span>, </span>
<span id="cb12-101"><a href="#cb12-101" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Tenant, rent free"</span>) <span class="sc">&amp;</span> n_persons <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> </span>
<span id="cb12-102"><a href="#cb12-102" aria-hidden="true" tabindex="-1"></a>        <span class="dv">11561</span> <span class="sc">*</span> CZ_EXCHANGE_RATE,</span>
<span id="cb12-103"><a href="#cb12-103" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span>tenure_status <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Tenant, rent at market price"</span>, <span class="st">"Tenant, rent at reduced price"</span>, </span>
<span id="cb12-104"><a href="#cb12-104" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Tenant, rent free"</span>) <span class="sc">&amp;</span> n_persons <span class="sc">&gt;=</span> <span class="dv">4</span> <span class="sc">~</span> </span>
<span id="cb12-105"><a href="#cb12-105" aria-hidden="true" tabindex="-1"></a>        <span class="dv">14368</span> <span class="sc">*</span> CZ_EXCHANGE_RATE</span>
<span id="cb12-106"><a href="#cb12-106" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb12-107"><a href="#cb12-107" aria-hidden="true" tabindex="-1"></a>    ), </span>
<span id="cb12-108"><a href="#cb12-108" aria-hidden="true" tabindex="-1"></a>    <span class="at">eligible_housing_costs =</span> (total_housing_cost <span class="sc">-</span> r_mortgage) <span class="sc">%&gt;%</span> </span>
<span id="cb12-109"><a href="#cb12-109" aria-hidden="true" tabindex="-1"></a>      <span class="fu">if_else</span>(. <span class="sc">&lt;</span> normative_costs, ., normative_costs), </span>
<span id="cb12-110"><a href="#cb12-110" aria-hidden="true" tabindex="-1"></a>    <span class="at">share_costs_to_income =</span> eligible_housing_costs <span class="sc">/</span> month_income,</span>
<span id="cb12-111"><a href="#cb12-111" aria-hidden="true" tabindex="-1"></a>    <span class="at">eligibility_allowance_housing =</span> <span class="fu">case_when</span>(</span>
<span id="cb12-112"><a href="#cb12-112" aria-hidden="true" tabindex="-1"></a>      prague <span class="sc">&amp;</span> share_costs_to_income <span class="sc">&gt;=</span> <span class="fl">0.35</span> <span class="sc">~</span> eligible_housing_costs <span class="sc">-</span> <span class="fl">0.35</span> <span class="sc">*</span> month_income, </span>
<span id="cb12-113"><a href="#cb12-113" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span>prague <span class="sc">&amp;</span> share_costs_to_income <span class="sc">&gt;=</span> <span class="fl">0.3</span> <span class="sc">~</span> eligible_housing_costs <span class="sc">-</span> <span class="fl">0.3</span> <span class="sc">*</span> month_income, </span>
<span id="cb12-114"><a href="#cb12-114" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb12-115"><a href="#cb12-115" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb12-116"><a href="#cb12-116" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> <span class="fu">calculate_dimensions</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb12-117"><a href="#cb12-117" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hh_id) <span class="sc">%&gt;%</span> </span>
<span id="cb12-118"><a href="#cb12-118" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb12-119"><a href="#cb12-119" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb12-120"><a href="#cb12-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-121"><a href="#cb12-121" aria-hidden="true" tabindex="-1"></a>m_out <span class="ot">&lt;-</span> <span class="fu">matchit</span>(takeup_allowance_housing <span class="sc">~</span> n_persons <span class="sc">+</span> </span>
<span id="cb12-122"><a href="#cb12-122" aria-hidden="true" tabindex="-1"></a>                   income_disposable_wo_housing <span class="sc">+</span> </span>
<span id="cb12-123"><a href="#cb12-123" aria-hidden="true" tabindex="-1"></a>                   eligibility_allowance_housing <span class="sc">+</span> </span>
<span id="cb12-124"><a href="#cb12-124" aria-hidden="true" tabindex="-1"></a>                   region <span class="sc">+</span> tenure_status, </span>
<span id="cb12-125"><a href="#cb12-125" aria-hidden="true" tabindex="-1"></a>        <span class="co"># exact = ~ country + tenure_status, </span></span>
<span id="cb12-126"><a href="#cb12-126" aria-hidden="true" tabindex="-1"></a>        <span class="at">method =</span> <span class="st">"nearest"</span>,</span>
<span id="cb12-127"><a href="#cb12-127" aria-hidden="true" tabindex="-1"></a>        <span class="at">distance =</span> <span class="st">"mahalanobis"</span>,</span>
<span id="cb12-128"><a href="#cb12-128" aria-hidden="true" tabindex="-1"></a>        <span class="at">replace =</span> <span class="cn">TRUE</span>,</span>
<span id="cb12-129"><a href="#cb12-129" aria-hidden="true" tabindex="-1"></a>        <span class="at">exact =</span> <span class="sc">~</span> n_persons <span class="sc">+</span>  </span>
<span id="cb12-130"><a href="#cb12-130" aria-hidden="true" tabindex="-1"></a>          tenure_status <span class="sc">+</span> region,</span>
<span id="cb12-131"><a href="#cb12-131" aria-hidden="true" tabindex="-1"></a>        <span class="at">data =</span> eligibility_cz_2023 <span class="sc">%&gt;%</span> </span>
<span id="cb12-132"><a href="#cb12-132" aria-hidden="true" tabindex="-1"></a>          <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(region)))</span>
<span id="cb12-133"><a href="#cb12-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-134"><a href="#cb12-134" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(m_out)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
matchit(formula = takeup_allowance_housing ~ n_persons + income_disposable_wo_housing + 
    eligibility_allowance_housing + region + tenure_status, data = eligibility_cz_2023 %&gt;% 
    filter(!is.na(region)), method = "nearest", distance = "mahalanobis", 
    exact = ~n_persons + tenure_status + region, replace = TRUE)

Summary of Balance for All Data:
                                                Means Treated Means Control
n_persons                                              2.0881        2.0946
income_disposable_wo_housing                        9972.3476    21968.2512
eligibility_allowance_housing                        144.0592       11.0320
regionCZ01                                             0.1085        0.1071
regionCZ02                                             0.0508        0.1260
regionCZ03                                             0.0678        0.1241
regionCZ04                                             0.1492        0.1038
regionCZ05                                             0.1051        0.1447
regionCZ06                                             0.1492        0.1722
regionCZ07                                             0.1220        0.1070
regionCZ08                                             0.2475        0.1151
tenure_statusOwner without outstanding mortgage        0.2407        0.6334
tenure_statusOwner with outstanding mortgage           0.0169        0.1206
tenure_statusTenant, rent at market price              0.6949        0.1554
tenure_statusTenant, rent at reduced price             0.0271        0.0111
tenure_statusTenant, rent free                         0.0203        0.0795
                                                Std. Mean Diff. Var. Ratio
n_persons                                               -0.0044     1.6645
income_disposable_wo_housing                            -2.0328     0.1719
eligibility_allowance_housing                            1.1568    10.5031
regionCZ01                                               0.0044          .
regionCZ02                                              -0.3419          .
regionCZ03                                              -0.2241          .
regionCZ04                                               0.1272          .
regionCZ05                                              -0.1291          .
regionCZ06                                              -0.0646          .
regionCZ07                                               0.0460          .
regionCZ08                                               0.3066          .
tenure_statusOwner without outstanding mortgage         -0.9187          .
tenure_statusOwner with outstanding mortgage            -0.8031          .
tenure_statusTenant, rent at market price                1.1718          .
tenure_statusTenant, rent at reduced price               0.0988          .
tenure_statusTenant, rent free                          -0.4192          .
                                                eCDF Mean eCDF Max
n_persons                                          0.0327   0.1496
income_disposable_wo_housing                       0.3232   0.5179
eligibility_allowance_housing                      0.5953   0.7267
regionCZ01                                         0.0014   0.0014
regionCZ02                                         0.0751   0.0751
regionCZ03                                         0.0563   0.0563
regionCZ04                                         0.0453   0.0453
regionCZ05                                         0.0396   0.0396
regionCZ06                                         0.0230   0.0230
regionCZ07                                         0.0150   0.0150
regionCZ08                                         0.1323   0.1323
tenure_statusOwner without outstanding mortgage    0.3928   0.3928
tenure_statusOwner with outstanding mortgage       0.1037   0.1037
tenure_statusTenant, rent at market price          0.5395   0.5395
tenure_statusTenant, rent at reduced price         0.0161   0.0161
tenure_statusTenant, rent free                     0.0592   0.0592

Summary of Balance for Matched Data:
                                                Means Treated Means Control
n_persons                                              1.9861        1.9861
income_disposable_wo_housing                        9884.9723    11700.7377
eligibility_allowance_housing                        142.1463      111.5727
regionCZ01                                             0.1111        0.1111
regionCZ02                                             0.0521        0.0521
regionCZ03                                             0.0694        0.0694
regionCZ04                                             0.1458        0.1458
regionCZ05                                             0.1076        0.1076
regionCZ06                                             0.1389        0.1389
regionCZ07                                             0.1250        0.1250
regionCZ08                                             0.2500        0.2500
tenure_statusOwner without outstanding mortgage        0.2465        0.2465
tenure_statusOwner with outstanding mortgage           0.0174        0.0174
tenure_statusTenant, rent at market price              0.6944        0.6944
tenure_statusTenant, rent at reduced price             0.0208        0.0208
tenure_statusTenant, rent free                         0.0208        0.0208
                                                Std. Mean Diff. Var. Ratio
n_persons                                                0.0000     0.9966
income_disposable_wo_housing                            -0.3077     0.6747
eligibility_allowance_housing                            0.2659     1.5424
regionCZ01                                               0.0000          .
regionCZ02                                               0.0000          .
regionCZ03                                               0.0000          .
regionCZ04                                               0.0000          .
regionCZ05                                               0.0000          .
regionCZ06                                               0.0000          .
regionCZ07                                               0.0000          .
regionCZ08                                               0.0000          .
tenure_statusOwner without outstanding mortgage          0.0000          .
tenure_statusOwner with outstanding mortgage             0.0000          .
tenure_statusTenant, rent at market price                0.0000          .
tenure_statusTenant, rent at reduced price               0.0000          .
tenure_statusTenant, rent free                           0.0000          .
                                                eCDF Mean eCDF Max
n_persons                                          0.0000   0.0000
income_disposable_wo_housing                       0.0553   0.1250
eligibility_allowance_housing                      0.0714   0.1389
regionCZ01                                         0.0000   0.0000
regionCZ02                                         0.0000   0.0000
regionCZ03                                         0.0000   0.0000
regionCZ04                                         0.0000   0.0000
regionCZ05                                         0.0000   0.0000
regionCZ06                                         0.0000   0.0000
regionCZ07                                         0.0000   0.0000
regionCZ08                                         0.0000   0.0000
tenure_statusOwner without outstanding mortgage    0.0000   0.0000
tenure_statusOwner with outstanding mortgage       0.0000   0.0000
tenure_statusTenant, rent at market price          0.0000   0.0000
tenure_statusTenant, rent at reduced price         0.0000   0.0000
tenure_statusTenant, rent free                     0.0000   0.0000
                                                Std. Pair Dist.
n_persons                                                0.0000
income_disposable_wo_housing                             0.4345
eligibility_allowance_housing                            0.3161
regionCZ01                                               0.0000
regionCZ02                                               0.0000
regionCZ03                                               0.0000
regionCZ04                                               0.0000
regionCZ05                                               0.0000
regionCZ06                                               0.0000
regionCZ07                                               0.0000
regionCZ08                                               0.0000
tenure_statusOwner without outstanding mortgage          0.0000
tenure_statusOwner with outstanding mortgage             0.0000
tenure_statusTenant, rent at market price                0.0000
tenure_statusTenant, rent at reduced price               0.0000
tenure_statusTenant, rent free                           0.0000

Sample Sizes:
              Control Treated
All           8225.       295
Matched (ESS)  145.01     288
Matched        208.       288
Unmatched     8017.         7
Discarded        0.         0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">png</span>(<span class="st">"paper/figs/cze-covars.png"</span>, <span class="at">width =</span> <span class="dv">640</span>)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">summary</span>(m_out))</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dev.off</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>quartz_off_screen 
                2 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>m_data <span class="ot">&lt;-</span> <span class="fu">match_data</span>(m_out) <span class="sc">%&gt;%</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">takeup_allowance_housing =</span> <span class="fu">factor</span>(takeup_allowance_housing, </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>                                               <span class="at">levels =</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">TRUE</span>), </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>                                               <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"No, not taking benefits"</span>,</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>                                                          <span class="st">"Yes, taking benefits"</span>)), </span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">eligibility_allowance_housing =</span> eligibility_allowance_housing <span class="sc">/</span> <span class="dv">10</span>)</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="do">## Matched data</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>m1_aff <span class="ot">&lt;-</span> <span class="fu">glm</span>(dim_affordability <span class="sc">~</span> takeup_allowance_housing <span class="sc">+</span> eligibility_allowance_housing <span class="sc">+</span> </span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>      income_disposable_wo_housing, </span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="st">"binomial"</span>,</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> m_data)</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>m1_aff <span class="sc">%&gt;%</span> </span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>  modelsummary<span class="sc">::</span><span class="fu">modelsummary</span>(., <span class="at">stars =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<!-- preamble start -->

    <script>

      function styleCell_9hxg51obvbnn8a4pm1f3(i, j, css_id) {
          var table = document.getElementById("tinytable_9hxg51obvbnn8a4pm1f3");
          var cell = table.rows[i]?.cells[j];  // Safe navigation to avoid errors
          if (cell) {
              console.log(`Styling cell at (${i}, ${j}) with class ${css_id}`);
              cell.classList.add(css_id);
          } else {
              console.warn(`Cell at (${i}, ${j}) not found.`);
          }
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_9hxg51obvbnn8a4pm1f3');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_9hxg51obvbnn8a4pm1f3(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_9hxg51obvbnn8a4pm1f3");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: 14, j: 1 },  ], css_id: 'tinytable_css_m3lxrbt7zqzsxphju9xh',}, 
          { positions: [ { i: 8, j: 1 },  ], css_id: 'tinytable_css_h498y9eg34cmc0gss2sh',}, 
          { positions: [ { i: 1, j: 1 }, { i: 2, j: 1 }, { i: 3, j: 1 }, { i: 4, j: 1 }, { i: 5, j: 1 }, { i: 6, j: 1 }, { i: 7, j: 1 }, { i: 12, j: 1 }, { i: 9, j: 1 }, { i: 10, j: 1 }, { i: 11, j: 1 }, { i: 13, j: 1 },  ], css_id: 'tinytable_css_4qf3lf02w12cikwby3ht',}, 
          { positions: [ { i: 0, j: 1 },  ], css_id: 'tinytable_css_8lv29652c5id6rx5mg1c',}, 
          { positions: [ { i: 14, j: 0 },  ], css_id: 'tinytable_css_lhp5xfe0t161xv7nnbst',}, 
          { positions: [ { i: 8, j: 0 },  ], css_id: 'tinytable_css_relybtz5f85rlfytwx3j',}, 
          { positions: [ { i: 1, j: 0 }, { i: 2, j: 0 }, { i: 3, j: 0 }, { i: 4, j: 0 }, { i: 5, j: 0 }, { i: 6, j: 0 }, { i: 7, j: 0 }, { i: 12, j: 0 }, { i: 9, j: 0 }, { i: 10, j: 0 }, { i: 11, j: 0 }, { i: 13, j: 0 },  ], css_id: 'tinytable_css_gd32ikkqfthlun0kkd7q',}, 
          { positions: [ { i: 0, j: 0 },  ], css_id: 'tinytable_css_6rxh5b9k3atsvj89qex1',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  styleCell_9hxg51obvbnn8a4pm1f3(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <style>
      /* tinytable css entries after */
      .table td.tinytable_css_m3lxrbt7zqzsxphju9xh, .table th.tinytable_css_m3lxrbt7zqzsxphju9xh { text-align: center; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_h498y9eg34cmc0gss2sh, .table th.tinytable_css_h498y9eg34cmc0gss2sh { text-align: center; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_4qf3lf02w12cikwby3ht, .table th.tinytable_css_4qf3lf02w12cikwby3ht { text-align: center; }
      .table td.tinytable_css_8lv29652c5id6rx5mg1c, .table th.tinytable_css_8lv29652c5id6rx5mg1c { text-align: center; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
      .table td.tinytable_css_lhp5xfe0t161xv7nnbst, .table th.tinytable_css_lhp5xfe0t161xv7nnbst { text-align: left; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_relybtz5f85rlfytwx3j, .table th.tinytable_css_relybtz5f85rlfytwx3j { text-align: left; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_gd32ikkqfthlun0kkd7q, .table th.tinytable_css_gd32ikkqfthlun0kkd7q { text-align: left; }
      .table td.tinytable_css_6rxh5b9k3atsvj89qex1, .table th.tinytable_css_6rxh5b9k3atsvj89qex1 { text-align: left; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_9hxg51obvbnn8a4pm1f3" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="2">+ p &lt; 0.1, * p &lt; 0.05, ** p &lt; 0.01, *** p &lt; 0.001</td></tr></tfoot>
        <tbody>
                <tr>
                  <td>(Intercept)</td>
                  <td>0.792+</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.443)</td>
                </tr>
                <tr>
                  <td>takeup_allowance_housingYes, taking benefits</td>
                  <td>-0.753*</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.304)</td>
                </tr>
                <tr>
                  <td>eligibility_allowance_housing</td>
                  <td>0.307***</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.031)</td>
                </tr>
                <tr>
                  <td>income_disposable_wo_housing</td>
                  <td>-0.000***</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.000)</td>
                </tr>
                <tr>
                  <td>Num.Obs.</td>
                  <td>496</td>
                </tr>
                <tr>
                  <td>AIC</td>
                  <td>305.8</td>
                </tr>
                <tr>
                  <td>BIC</td>
                  <td>322.6</td>
                </tr>
                <tr>
                  <td>Log.Lik.</td>
                  <td>-148.897</td>
                </tr>
                <tr>
                  <td>F</td>
                  <td>36.984</td>
                </tr>
                <tr>
                  <td>RMSE</td>
                  <td>0.30</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>m1_qual <span class="ot">&lt;-</span> <span class="fu">glm</span>(dim_quality <span class="sc">~</span> takeup_allowance_housing <span class="sc">+</span> eligibility_allowance_housing <span class="sc">+</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>      income_disposable_wo_housing, </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="st">"binomial"</span>,</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> m_data) </span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>m1_qual <span class="sc">%&gt;%</span> </span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  modelsummary<span class="sc">::</span><span class="fu">modelsummary</span>(., <span class="at">stars =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<!-- preamble start -->

    <script>

      function styleCell_wevjy1g89h282aa80b0b(i, j, css_id) {
          var table = document.getElementById("tinytable_wevjy1g89h282aa80b0b");
          var cell = table.rows[i]?.cells[j];  // Safe navigation to avoid errors
          if (cell) {
              console.log(`Styling cell at (${i}, ${j}) with class ${css_id}`);
              cell.classList.add(css_id);
          } else {
              console.warn(`Cell at (${i}, ${j}) not found.`);
          }
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_wevjy1g89h282aa80b0b');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_wevjy1g89h282aa80b0b(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_wevjy1g89h282aa80b0b");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: 14, j: 1 },  ], css_id: 'tinytable_css_2zlvj7n7feeo8ie1rk9o',}, 
          { positions: [ { i: 8, j: 1 },  ], css_id: 'tinytable_css_m40pizksoewmez57ht80',}, 
          { positions: [ { i: 1, j: 1 }, { i: 2, j: 1 }, { i: 3, j: 1 }, { i: 4, j: 1 }, { i: 5, j: 1 }, { i: 6, j: 1 }, { i: 7, j: 1 }, { i: 12, j: 1 }, { i: 9, j: 1 }, { i: 10, j: 1 }, { i: 11, j: 1 }, { i: 13, j: 1 },  ], css_id: 'tinytable_css_8vavoe7kuly8g1cv72f5',}, 
          { positions: [ { i: 0, j: 1 },  ], css_id: 'tinytable_css_cjvs5xqkc506rn7yf6uo',}, 
          { positions: [ { i: 14, j: 0 },  ], css_id: 'tinytable_css_07itsfbgpekhdm97vuan',}, 
          { positions: [ { i: 8, j: 0 },  ], css_id: 'tinytable_css_3hbpe4bf8uo247vswv3u',}, 
          { positions: [ { i: 1, j: 0 }, { i: 2, j: 0 }, { i: 3, j: 0 }, { i: 4, j: 0 }, { i: 5, j: 0 }, { i: 6, j: 0 }, { i: 7, j: 0 }, { i: 12, j: 0 }, { i: 9, j: 0 }, { i: 10, j: 0 }, { i: 11, j: 0 }, { i: 13, j: 0 },  ], css_id: 'tinytable_css_gtsrw6y06kbg7b7vwb3q',}, 
          { positions: [ { i: 0, j: 0 },  ], css_id: 'tinytable_css_cum5bvp24xs3yjr4lz2l',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  styleCell_wevjy1g89h282aa80b0b(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <style>
      /* tinytable css entries after */
      .table td.tinytable_css_2zlvj7n7feeo8ie1rk9o, .table th.tinytable_css_2zlvj7n7feeo8ie1rk9o { text-align: center; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_m40pizksoewmez57ht80, .table th.tinytable_css_m40pizksoewmez57ht80 { text-align: center; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_8vavoe7kuly8g1cv72f5, .table th.tinytable_css_8vavoe7kuly8g1cv72f5 { text-align: center; }
      .table td.tinytable_css_cjvs5xqkc506rn7yf6uo, .table th.tinytable_css_cjvs5xqkc506rn7yf6uo { text-align: center; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
      .table td.tinytable_css_07itsfbgpekhdm97vuan, .table th.tinytable_css_07itsfbgpekhdm97vuan { text-align: left; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_3hbpe4bf8uo247vswv3u, .table th.tinytable_css_3hbpe4bf8uo247vswv3u { text-align: left; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_gtsrw6y06kbg7b7vwb3q, .table th.tinytable_css_gtsrw6y06kbg7b7vwb3q { text-align: left; }
      .table td.tinytable_css_cum5bvp24xs3yjr4lz2l, .table th.tinytable_css_cum5bvp24xs3yjr4lz2l { text-align: left; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_wevjy1g89h282aa80b0b" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="2">+ p &lt; 0.1, * p &lt; 0.05, ** p &lt; 0.01, *** p &lt; 0.001</td></tr></tfoot>
        <tbody>
                <tr>
                  <td>(Intercept)</td>
                  <td>-1.503***</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.282)</td>
                </tr>
                <tr>
                  <td>takeup_allowance_housingYes, taking benefits</td>
                  <td>0.264</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.195)</td>
                </tr>
                <tr>
                  <td>eligibility_allowance_housing</td>
                  <td>0.048***</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.010)</td>
                </tr>
                <tr>
                  <td>income_disposable_wo_housing</td>
                  <td>0.000**</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.000)</td>
                </tr>
                <tr>
                  <td>Num.Obs.</td>
                  <td>496</td>
                </tr>
                <tr>
                  <td>AIC</td>
                  <td>653.4</td>
                </tr>
                <tr>
                  <td>BIC</td>
                  <td>670.2</td>
                </tr>
                <tr>
                  <td>Log.Lik.</td>
                  <td>-322.677</td>
                </tr>
                <tr>
                  <td>F</td>
                  <td>9.009</td>
                </tr>
                <tr>
                  <td>RMSE</td>
                  <td>0.48</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glm</span>(dim_quality2 <span class="sc">~</span> takeup_allowance_housing <span class="sc">+</span> eligibility_allowance_housing <span class="sc">+</span> </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>      income_disposable_wo_housing, </span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="st">"binomial"</span>,</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> m_data) <span class="sc">%&gt;%</span> </span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  modelsummary<span class="sc">::</span><span class="fu">modelsummary</span>(., <span class="at">stars =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<!-- preamble start -->

    <script>

      function styleCell_af9d4el4jcppxm7xeq14(i, j, css_id) {
          var table = document.getElementById("tinytable_af9d4el4jcppxm7xeq14");
          var cell = table.rows[i]?.cells[j];  // Safe navigation to avoid errors
          if (cell) {
              console.log(`Styling cell at (${i}, ${j}) with class ${css_id}`);
              cell.classList.add(css_id);
          } else {
              console.warn(`Cell at (${i}, ${j}) not found.`);
          }
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_af9d4el4jcppxm7xeq14');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_af9d4el4jcppxm7xeq14(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_af9d4el4jcppxm7xeq14");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: 14, j: 1 },  ], css_id: 'tinytable_css_0ur7hw02a8its45pmil1',}, 
          { positions: [ { i: 8, j: 1 },  ], css_id: 'tinytable_css_3z5bii9j6429akz76unm',}, 
          { positions: [ { i: 1, j: 1 }, { i: 2, j: 1 }, { i: 3, j: 1 }, { i: 4, j: 1 }, { i: 5, j: 1 }, { i: 6, j: 1 }, { i: 7, j: 1 }, { i: 12, j: 1 }, { i: 9, j: 1 }, { i: 10, j: 1 }, { i: 11, j: 1 }, { i: 13, j: 1 },  ], css_id: 'tinytable_css_dv1jrss602c9nc6ydkq4',}, 
          { positions: [ { i: 0, j: 1 },  ], css_id: 'tinytable_css_bs8hjrmegb496o5w6zx3',}, 
          { positions: [ { i: 14, j: 0 },  ], css_id: 'tinytable_css_tzkp7nddi3nsgscjn5oy',}, 
          { positions: [ { i: 8, j: 0 },  ], css_id: 'tinytable_css_1fn8qlypck2rsb5yks4c',}, 
          { positions: [ { i: 1, j: 0 }, { i: 2, j: 0 }, { i: 3, j: 0 }, { i: 4, j: 0 }, { i: 5, j: 0 }, { i: 6, j: 0 }, { i: 7, j: 0 }, { i: 12, j: 0 }, { i: 9, j: 0 }, { i: 10, j: 0 }, { i: 11, j: 0 }, { i: 13, j: 0 },  ], css_id: 'tinytable_css_1q15x50fmnyk3n4ryt0q',}, 
          { positions: [ { i: 0, j: 0 },  ], css_id: 'tinytable_css_er5y0ktsntnfeb8856df',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  styleCell_af9d4el4jcppxm7xeq14(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <style>
      /* tinytable css entries after */
      .table td.tinytable_css_0ur7hw02a8its45pmil1, .table th.tinytable_css_0ur7hw02a8its45pmil1 { text-align: center; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_3z5bii9j6429akz76unm, .table th.tinytable_css_3z5bii9j6429akz76unm { text-align: center; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_dv1jrss602c9nc6ydkq4, .table th.tinytable_css_dv1jrss602c9nc6ydkq4 { text-align: center; }
      .table td.tinytable_css_bs8hjrmegb496o5w6zx3, .table th.tinytable_css_bs8hjrmegb496o5w6zx3 { text-align: center; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
      .table td.tinytable_css_tzkp7nddi3nsgscjn5oy, .table th.tinytable_css_tzkp7nddi3nsgscjn5oy { text-align: left; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_1fn8qlypck2rsb5yks4c, .table th.tinytable_css_1fn8qlypck2rsb5yks4c { text-align: left; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_1q15x50fmnyk3n4ryt0q, .table th.tinytable_css_1q15x50fmnyk3n4ryt0q { text-align: left; }
      .table td.tinytable_css_er5y0ktsntnfeb8856df, .table th.tinytable_css_er5y0ktsntnfeb8856df { text-align: left; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_af9d4el4jcppxm7xeq14" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="2">+ p &lt; 0.1, * p &lt; 0.05, ** p &lt; 0.01, *** p &lt; 0.001</td></tr></tfoot>
        <tbody>
                <tr>
                  <td>(Intercept)</td>
                  <td>-1.173***</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.276)</td>
                </tr>
                <tr>
                  <td>takeup_allowance_housingYes, taking benefits</td>
                  <td>0.372+</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.191)</td>
                </tr>
                <tr>
                  <td>eligibility_allowance_housing</td>
                  <td>0.039***</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.010)</td>
                </tr>
                <tr>
                  <td>income_disposable_wo_housing</td>
                  <td>0.000**</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.000)</td>
                </tr>
                <tr>
                  <td>Num.Obs.</td>
                  <td>496</td>
                </tr>
                <tr>
                  <td>AIC</td>
                  <td>670.9</td>
                </tr>
                <tr>
                  <td>BIC</td>
                  <td>687.8</td>
                </tr>
                <tr>
                  <td>Log.Lik.</td>
                  <td>-331.469</td>
                </tr>
                <tr>
                  <td>F</td>
                  <td>7.514</td>
                </tr>
                <tr>
                  <td>RMSE</td>
                  <td>0.49</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glm</span>(dim_insecurity <span class="sc">~</span> takeup_allowance_housing <span class="sc">+</span> eligibility_allowance_housing <span class="sc">+</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>      income_disposable_wo_housing, </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="st">"binomial"</span>,</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> m_data) <span class="sc">%&gt;%</span> </span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  modelsummary<span class="sc">::</span><span class="fu">modelsummary</span>(., <span class="at">stars =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<!-- preamble start -->

    <script>

      function styleCell_u4mid2ygst042wr26v8p(i, j, css_id) {
          var table = document.getElementById("tinytable_u4mid2ygst042wr26v8p");
          var cell = table.rows[i]?.cells[j];  // Safe navigation to avoid errors
          if (cell) {
              console.log(`Styling cell at (${i}, ${j}) with class ${css_id}`);
              cell.classList.add(css_id);
          } else {
              console.warn(`Cell at (${i}, ${j}) not found.`);
          }
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_u4mid2ygst042wr26v8p');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_u4mid2ygst042wr26v8p(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_u4mid2ygst042wr26v8p");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: 14, j: 1 },  ], css_id: 'tinytable_css_s72y8iqfd97w8x1xojtl',}, 
          { positions: [ { i: 8, j: 1 },  ], css_id: 'tinytable_css_qy5wp2wy1kgf681xpv9u',}, 
          { positions: [ { i: 1, j: 1 }, { i: 2, j: 1 }, { i: 3, j: 1 }, { i: 4, j: 1 }, { i: 5, j: 1 }, { i: 6, j: 1 }, { i: 7, j: 1 }, { i: 12, j: 1 }, { i: 9, j: 1 }, { i: 10, j: 1 }, { i: 11, j: 1 }, { i: 13, j: 1 },  ], css_id: 'tinytable_css_ow3hb1zo4dme305bt3r8',}, 
          { positions: [ { i: 0, j: 1 },  ], css_id: 'tinytable_css_fzhcg3q2ii8rvz60prak',}, 
          { positions: [ { i: 14, j: 0 },  ], css_id: 'tinytable_css_adbbr459efx37qphhs0f',}, 
          { positions: [ { i: 8, j: 0 },  ], css_id: 'tinytable_css_c55bsxqdbp87fj5ny6cz',}, 
          { positions: [ { i: 1, j: 0 }, { i: 2, j: 0 }, { i: 3, j: 0 }, { i: 4, j: 0 }, { i: 5, j: 0 }, { i: 6, j: 0 }, { i: 7, j: 0 }, { i: 12, j: 0 }, { i: 9, j: 0 }, { i: 10, j: 0 }, { i: 11, j: 0 }, { i: 13, j: 0 },  ], css_id: 'tinytable_css_2erifjxo01o7b1hao2lk',}, 
          { positions: [ { i: 0, j: 0 },  ], css_id: 'tinytable_css_buzsqsu00d9lpve39tu2',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  styleCell_u4mid2ygst042wr26v8p(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <style>
      /* tinytable css entries after */
      .table td.tinytable_css_s72y8iqfd97w8x1xojtl, .table th.tinytable_css_s72y8iqfd97w8x1xojtl { text-align: center; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_qy5wp2wy1kgf681xpv9u, .table th.tinytable_css_qy5wp2wy1kgf681xpv9u { text-align: center; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_ow3hb1zo4dme305bt3r8, .table th.tinytable_css_ow3hb1zo4dme305bt3r8 { text-align: center; }
      .table td.tinytable_css_fzhcg3q2ii8rvz60prak, .table th.tinytable_css_fzhcg3q2ii8rvz60prak { text-align: center; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
      .table td.tinytable_css_adbbr459efx37qphhs0f, .table th.tinytable_css_adbbr459efx37qphhs0f { text-align: left; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_c55bsxqdbp87fj5ny6cz, .table th.tinytable_css_c55bsxqdbp87fj5ny6cz { text-align: left; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_2erifjxo01o7b1hao2lk, .table th.tinytable_css_2erifjxo01o7b1hao2lk { text-align: left; }
      .table td.tinytable_css_buzsqsu00d9lpve39tu2, .table th.tinytable_css_buzsqsu00d9lpve39tu2 { text-align: left; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_u4mid2ygst042wr26v8p" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="2">+ p &lt; 0.1, * p &lt; 0.05, ** p &lt; 0.01, *** p &lt; 0.001</td></tr></tfoot>
        <tbody>
                <tr>
                  <td>(Intercept)</td>
                  <td>-3.716***</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.475)</td>
                </tr>
                <tr>
                  <td>takeup_allowance_housingYes, taking benefits</td>
                  <td>-0.016</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.331)</td>
                </tr>
                <tr>
                  <td>eligibility_allowance_housing</td>
                  <td>0.080***</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.013)</td>
                </tr>
                <tr>
                  <td>income_disposable_wo_housing</td>
                  <td>0.000</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.000)</td>
                </tr>
                <tr>
                  <td>Num.Obs.</td>
                  <td>496</td>
                </tr>
                <tr>
                  <td>AIC</td>
                  <td>309.8</td>
                </tr>
                <tr>
                  <td>BIC</td>
                  <td>326.6</td>
                </tr>
                <tr>
                  <td>Log.Lik.</td>
                  <td>-150.908</td>
                </tr>
                <tr>
                  <td>F</td>
                  <td>12.723</td>
                </tr>
                <tr>
                  <td>RMSE</td>
                  <td>0.30</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glm</span>(dim_locality <span class="sc">~</span> takeup_allowance_housing <span class="sc">+</span> eligibility_allowance_housing <span class="sc">+</span> </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>      income_disposable_wo_housing, </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="st">"binomial"</span>,</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> m_data) <span class="sc">%&gt;%</span> </span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  modelsummary<span class="sc">::</span><span class="fu">modelsummary</span>(., <span class="at">stars =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<!-- preamble start -->

    <script>

      function styleCell_tfe0zezvadllzbn27ern(i, j, css_id) {
          var table = document.getElementById("tinytable_tfe0zezvadllzbn27ern");
          var cell = table.rows[i]?.cells[j];  // Safe navigation to avoid errors
          if (cell) {
              console.log(`Styling cell at (${i}, ${j}) with class ${css_id}`);
              cell.classList.add(css_id);
          } else {
              console.warn(`Cell at (${i}, ${j}) not found.`);
          }
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_tfe0zezvadllzbn27ern');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_tfe0zezvadllzbn27ern(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_tfe0zezvadllzbn27ern");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: 14, j: 1 },  ], css_id: 'tinytable_css_jgwzdkdczcm0j4t5aa9m',}, 
          { positions: [ { i: 8, j: 1 },  ], css_id: 'tinytable_css_q6bod7jnyj3vxa863bps',}, 
          { positions: [ { i: 1, j: 1 }, { i: 2, j: 1 }, { i: 3, j: 1 }, { i: 4, j: 1 }, { i: 5, j: 1 }, { i: 6, j: 1 }, { i: 7, j: 1 }, { i: 12, j: 1 }, { i: 9, j: 1 }, { i: 10, j: 1 }, { i: 11, j: 1 }, { i: 13, j: 1 },  ], css_id: 'tinytable_css_j5mjx85stca7y82rrpuf',}, 
          { positions: [ { i: 0, j: 1 },  ], css_id: 'tinytable_css_3hj1wq6p9870cjv4hvku',}, 
          { positions: [ { i: 14, j: 0 },  ], css_id: 'tinytable_css_qn8hrex8xb7joaco51uf',}, 
          { positions: [ { i: 8, j: 0 },  ], css_id: 'tinytable_css_7od6eohu7bqq6epvyxo3',}, 
          { positions: [ { i: 1, j: 0 }, { i: 2, j: 0 }, { i: 3, j: 0 }, { i: 4, j: 0 }, { i: 5, j: 0 }, { i: 6, j: 0 }, { i: 7, j: 0 }, { i: 12, j: 0 }, { i: 9, j: 0 }, { i: 10, j: 0 }, { i: 11, j: 0 }, { i: 13, j: 0 },  ], css_id: 'tinytable_css_sahl3ghpn1l5bywd5y0n',}, 
          { positions: [ { i: 0, j: 0 },  ], css_id: 'tinytable_css_dscrs093isdr0pekl9m5',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  styleCell_tfe0zezvadllzbn27ern(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <style>
      /* tinytable css entries after */
      .table td.tinytable_css_jgwzdkdczcm0j4t5aa9m, .table th.tinytable_css_jgwzdkdczcm0j4t5aa9m { text-align: center; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_q6bod7jnyj3vxa863bps, .table th.tinytable_css_q6bod7jnyj3vxa863bps { text-align: center; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_j5mjx85stca7y82rrpuf, .table th.tinytable_css_j5mjx85stca7y82rrpuf { text-align: center; }
      .table td.tinytable_css_3hj1wq6p9870cjv4hvku, .table th.tinytable_css_3hj1wq6p9870cjv4hvku { text-align: center; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
      .table td.tinytable_css_qn8hrex8xb7joaco51uf, .table th.tinytable_css_qn8hrex8xb7joaco51uf { text-align: left; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_7od6eohu7bqq6epvyxo3, .table th.tinytable_css_7od6eohu7bqq6epvyxo3 { text-align: left; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_sahl3ghpn1l5bywd5y0n, .table th.tinytable_css_sahl3ghpn1l5bywd5y0n { text-align: left; }
      .table td.tinytable_css_dscrs093isdr0pekl9m5, .table th.tinytable_css_dscrs093isdr0pekl9m5 { text-align: left; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_tfe0zezvadllzbn27ern" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="2">+ p &lt; 0.1, * p &lt; 0.05, ** p &lt; 0.01, *** p &lt; 0.001</td></tr></tfoot>
        <tbody>
                <tr>
                  <td>(Intercept)</td>
                  <td>-1.467***</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.300)</td>
                </tr>
                <tr>
                  <td>takeup_allowance_housingYes, taking benefits</td>
                  <td>0.402+</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.214)</td>
                </tr>
                <tr>
                  <td>eligibility_allowance_housing</td>
                  <td>0.020*</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.010)</td>
                </tr>
                <tr>
                  <td>income_disposable_wo_housing</td>
                  <td>0.000</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.000)</td>
                </tr>
                <tr>
                  <td>Num.Obs.</td>
                  <td>496</td>
                </tr>
                <tr>
                  <td>AIC</td>
                  <td>588.5</td>
                </tr>
                <tr>
                  <td>BIC</td>
                  <td>605.3</td>
                </tr>
                <tr>
                  <td>Log.Lik.</td>
                  <td>-290.230</td>
                </tr>
                <tr>
                  <td>F</td>
                  <td>3.240</td>
                </tr>
                <tr>
                  <td>RMSE</td>
                  <td>0.45</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>modelsummary<span class="sc">::</span><span class="fu">modelplot</span>(m1_aff, <span class="at">exponentiate =</span> <span class="cn">TRUE</span>,</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>                        <span class="at">coef_map =</span> <span class="fu">c</span>(</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"eligibility_allowance_housing"</span><span class="ot">=</span><span class="st">"Housing benefits eligibility (amount, 10 EUR)"</span>,</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"takeup_allowance_housingYes, taking benefits"</span><span class="ot">=</span><span class="st">"Yes, taking benefits"</span>)) <span class="sc">+</span> </span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>() <span class="sc">+</span> </span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Odds ratios and 95% CI"</span>) <span class="sc">+</span> </span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">1</span>) <span class="sc">+</span> </span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Effect of housing benefits on unaffordability"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="eligibility_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"figs/fig_effect_affordability.png"</span>, <span class="at">width =</span> <span class="dv">8</span>, <span class="at">height =</span> <span class="dv">6</span>, <span class="at">bg =</span> <span class="st">"white"</span>)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>modelsummary<span class="sc">::</span><span class="fu">modelplot</span>(m1_qual, <span class="at">exponentiate =</span> <span class="cn">TRUE</span>,</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>                        <span class="at">coef_map =</span> <span class="fu">c</span>(</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"eligibility_allowance_housing"</span><span class="ot">=</span><span class="st">"Housing benefits eligibility (amount, 10 EUR)"</span>,</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"takeup_allowance_housingYes, taking benefits"</span><span class="ot">=</span><span class="st">"Yes, taking benefits"</span>)) <span class="sc">+</span> </span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>() <span class="sc">+</span> </span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Odds ratios and 95% CI"</span>) <span class="sc">+</span> </span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">1</span>) <span class="sc">+</span> </span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Effect of housing benefits on quality"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="eligibility_files/figure-html/unnamed-chunk-2-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"figs/fig_effect_quality.png"</span>, <span class="at">width =</span> <span class="dv">8</span>, <span class="at">height =</span> <span class="dv">6</span>, <span class="at">bg =</span> <span class="st">"white"</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ggeffects::ggeffect(m1_aff, terms = c("takeup_allowance_housing")) %&gt;% </span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   plot()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="finland" class="level2">
<h2 class="anchored" data-anchor-id="finland">Finland</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>fi_2023 <span class="ot">&lt;-</span> r_silc_2023 <span class="sc">%&gt;%</span> </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">"FI"</span>)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>pensioners_fi_2023 <span class="ot">&lt;-</span> fi_2023 <span class="sc">%&gt;%</span> </span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(econ_status <span class="sc">==</span> <span class="st">"Retired"</span>)</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>pensioners_hb_2023 <span class="ot">&lt;-</span> pensioners_fi_2023 <span class="sc">%&gt;%</span> </span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">r_rent =</span> <span class="fu">if_na</span>(rent, <span class="dv">0</span>),</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">heating_cost_categories =</span> <span class="fu">case_when</span>(</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>      region <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"FI1B"</span>, <span class="st">"FI1C"</span>) <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>      region <span class="sc">==</span> <span class="st">"FI19"</span> <span class="sc">~</span> <span class="dv">2</span>,</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>      region <span class="sc">==</span> <span class="st">"FI1D"</span> <span class="sc">~</span> <span class="dv">3</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">renovated =</span> <span class="fu">as_factor</span>(renovated_in_past_5_years) <span class="sc">%in%</span> <span class="fu">c</span>(</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Yes - three or more"</span>, <span class="st">"Yes - two measures"</span>, <span class="st">"Yes - one measure"</span>),</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_eligible_square_area =</span> <span class="dv">70</span> <span class="sc">+</span> (n_persons <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">*</span> <span class="dv">15</span>,</span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">eligible_square_area =</span> <span class="fu">if_else</span>(dwelling_size_m2 <span class="sc">&gt;</span> max_eligible_square_area,</span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>                                  max_eligible_square_area, dwelling_size_m2),</span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># </span><span class="al">TODO</span><span class="co">: increase if house built before 1974</span></span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">eligible_heating_costs =</span> <span class="fu">case_when</span>(</span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>      heating_cost_categories <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="fl">1.32</span> <span class="sc">*</span> eligible_square_area,</span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a>      heating_cost_categories <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="fl">1.45</span> <span class="sc">*</span> eligible_square_area,</span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a>      heating_cost_categories <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="fl">1.60</span> <span class="sc">*</span> eligible_square_area</span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># </span><span class="al">TODO</span><span class="co">: increase if house built before 1974</span></span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">maintenance_charge =</span> <span class="fu">if_else</span>(</span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a>      tenure_status <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Owner without outstanding mortgage"</span>,</span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Owner with outstanding mortgage"</span>), </span>
<span id="cb24-30"><a href="#cb24-30" aria-hidden="true" tabindex="-1"></a>      <span class="fl">44.37</span> <span class="sc">*</span> n_persons, </span>
<span id="cb24-31"><a href="#cb24-31" aria-hidden="true" tabindex="-1"></a>      <span class="dv">0</span></span>
<span id="cb24-32"><a href="#cb24-32" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb24-33"><a href="#cb24-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">eligible_water_costs =</span> n_persons <span class="sc">*</span> <span class="fl">29.81</span>,</span>
<span id="cb24-34"><a href="#cb24-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">eligible_housing_costs =</span> r_rent <span class="sc">+</span> eligible_heating_costs <span class="sc">+</span> maintenance_charge <span class="sc">+</span> </span>
<span id="cb24-35"><a href="#cb24-35" aria-hidden="true" tabindex="-1"></a>      eligible_water_costs, </span>
<span id="cb24-36"><a href="#cb24-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">maximum_housing_costs =</span> <span class="fu">case_when</span>(</span>
<span id="cb24-37"><a href="#cb24-37" aria-hidden="true" tabindex="-1"></a>      region <span class="sc">==</span> <span class="st">"FI1B"</span> <span class="sc">~</span> <span class="dv">8613</span><span class="sc">/</span><span class="dv">12</span>, </span>
<span id="cb24-38"><a href="#cb24-38" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> (<span class="dv">7912</span><span class="sc">+</span><span class="dv">6949</span>)<span class="sc">/</span><span class="dv">2</span><span class="sc">/</span><span class="dv">12</span></span>
<span id="cb24-39"><a href="#cb24-39" aria-hidden="true" tabindex="-1"></a>    ), </span>
<span id="cb24-40"><a href="#cb24-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">income_limit =</span> <span class="fu">case_when</span>(</span>
<span id="cb24-41"><a href="#cb24-41" aria-hidden="true" tabindex="-1"></a>      n_persons <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="dv">9534</span>, </span>
<span id="cb24-42"><a href="#cb24-42" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">15565</span></span>
<span id="cb24-43"><a href="#cb24-43" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb24-44"><a href="#cb24-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">person_net_income =</span> <span class="fu">rowSums</span>(<span class="fu">across</span>(<span class="fu">starts_with</span>(<span class="st">"person_net"</span>)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb24-45"><a href="#cb24-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">own_responsibility =</span> (<span class="fl">631.94</span> <span class="sc">+</span> <span class="fl">0.413</span> <span class="sc">*</span> (person_net_income <span class="sc">-</span> income_limit))<span class="sc">/</span><span class="dv">12</span>, </span>
<span id="cb24-46"><a href="#cb24-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">eligibility_allowance_housing =</span> (<span class="fl">0.85</span> <span class="sc">*</span> (eligible_housing_costs<span class="sc">-</span>own_responsibility)) <span class="sc">%&gt;%</span> </span>
<span id="cb24-47"><a href="#cb24-47" aria-hidden="true" tabindex="-1"></a>      <span class="fu">if_else</span>(. <span class="sc">&lt;</span> <span class="dv">0</span>, <span class="dv">0</span>, .)</span>
<span id="cb24-48"><a href="#cb24-48" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb24-49"><a href="#cb24-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb24-50"><a href="#cb24-50" aria-hidden="true" tabindex="-1"></a>    person_net_income, rent, eligible_housing_costs, </span>
<span id="cb24-51"><a href="#cb24-51" aria-hidden="true" tabindex="-1"></a>    eligibility_allowance_housing, allowance_housing, <span class="fu">everything</span>()</span>
<span id="cb24-52"><a href="#cb24-52" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb24-53"><a href="#cb24-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-54"><a href="#cb24-54" aria-hidden="true" tabindex="-1"></a>fi_pensioners_hb <span class="ot">&lt;-</span> <span class="fu">matchit</span>(takeup_allowance_housing <span class="sc">~</span> n_persons <span class="sc">+</span> </span>
<span id="cb24-55"><a href="#cb24-55" aria-hidden="true" tabindex="-1"></a>                              income_disposable_eqi <span class="sc">+</span> </span>
<span id="cb24-56"><a href="#cb24-56" aria-hidden="true" tabindex="-1"></a>                              eligibility_allowance_housing <span class="sc">+</span> </span>
<span id="cb24-57"><a href="#cb24-57" aria-hidden="true" tabindex="-1"></a>                              region <span class="sc">+</span> tenure_status, </span>
<span id="cb24-58"><a href="#cb24-58" aria-hidden="true" tabindex="-1"></a>        <span class="co"># exact = ~ country + tenure_status, </span></span>
<span id="cb24-59"><a href="#cb24-59" aria-hidden="true" tabindex="-1"></a>        <span class="at">method =</span> <span class="st">"nearest"</span>,</span>
<span id="cb24-60"><a href="#cb24-60" aria-hidden="true" tabindex="-1"></a>        <span class="at">distance =</span> <span class="st">"mahalanobis"</span>,</span>
<span id="cb24-61"><a href="#cb24-61" aria-hidden="true" tabindex="-1"></a>        <span class="at">replace =</span> <span class="cn">TRUE</span>,</span>
<span id="cb24-62"><a href="#cb24-62" aria-hidden="true" tabindex="-1"></a>        <span class="at">exact =</span> <span class="sc">~</span> n_persons <span class="sc">+</span>  </span>
<span id="cb24-63"><a href="#cb24-63" aria-hidden="true" tabindex="-1"></a>          tenure_status <span class="sc">+</span> region,</span>
<span id="cb24-64"><a href="#cb24-64" aria-hidden="true" tabindex="-1"></a>        <span class="at">data =</span> pensioners_hb_2023 <span class="sc">%&gt;%</span> </span>
<span id="cb24-65"><a href="#cb24-65" aria-hidden="true" tabindex="-1"></a>          <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(region)))</span>
<span id="cb24-66"><a href="#cb24-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-67"><a href="#cb24-67" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fi_pensioners_hb)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
matchit(formula = takeup_allowance_housing ~ n_persons + income_disposable_eqi + 
    eligibility_allowance_housing + region + tenure_status, data = pensioners_hb_2023 %&gt;% 
    filter(!is.na(region)), method = "nearest", distance = "mahalanobis", 
    exact = ~n_persons + tenure_status + region, replace = TRUE)

Summary of Balance for All Data:
                                                Means Treated Means Control
n_persons                                              1.5498        1.9382
income_disposable_eqi                              20118.8890    31927.4429
eligibility_allowance_housing                        410.5238      133.3006
regionFI19                                             0.2370        0.2664
regionFI1B                                             0.2275        0.2374
regionFI1C                                             0.2417        0.2278
regionFI1D                                             0.2938        0.2684
tenure_statusOwner without outstanding mortgage        0.1564        0.7550
tenure_statusOwner with outstanding mortgage           0.0427        0.1512
tenure_statusTenant, rent at market price              0.2796        0.0266
tenure_statusTenant, rent at reduced price             0.5024        0.0507
tenure_statusTenant, rent free                         0.0190        0.0165
                                                Std. Mean Diff. Var. Ratio
n_persons                                               -0.4216     2.2441
income_disposable_eqi                                   -1.1744     0.3282
eligibility_allowance_housing                            1.0221     1.8646
regionFI19                                              -0.0693          .
regionFI1B                                              -0.0236          .
regionFI1C                                               0.0325          .
regionFI1D                                               0.0558          .
tenure_statusOwner without outstanding mortgage         -1.6479          .
tenure_statusOwner with outstanding mortgage            -0.5371          .
tenure_statusTenant, rent at market price                0.5638          .
tenure_statusTenant, rent at reduced price               0.9033          .
tenure_statusTenant, rent free                           0.0180          .
                                                eCDF Mean eCDF Max
n_persons                                          0.0714   0.4794
income_disposable_eqi                              0.3271   0.6071
eligibility_allowance_housing                      0.4398   0.5692
regionFI19                                         0.0295   0.0295
regionFI1B                                         0.0099   0.0099
regionFI1C                                         0.0139   0.0139
regionFI1D                                         0.0254   0.0254
tenure_statusOwner without outstanding mortgage    0.5986   0.5986
tenure_statusOwner with outstanding mortgage       0.1085   0.1085
tenure_statusTenant, rent at market price          0.2530   0.2530
tenure_statusTenant, rent at reduced price         0.4516   0.4516
tenure_statusTenant, rent free                     0.0025   0.0025

Summary of Balance for Matched Data:
                                                Means Treated Means Control
n_persons                                              1.5120        1.5120
income_disposable_eqi                              20148.1840    21802.5252
eligibility_allowance_housing                        407.2805      387.7945
regionFI19                                             0.2344        0.2344
regionFI1B                                             0.2297        0.2297
regionFI1C                                             0.2392        0.2392
regionFI1D                                             0.2967        0.2967
tenure_statusOwner without outstanding mortgage        0.1579        0.1579
tenure_statusOwner with outstanding mortgage           0.0431        0.0431
tenure_statusTenant, rent at market price              0.2823        0.2823
tenure_statusTenant, rent at reduced price             0.4976        0.4976
tenure_statusTenant, rent free                         0.0191        0.0191
                                                Std. Mean Diff. Var. Ratio
n_persons                                                0.0000     0.9886
income_disposable_eqi                                   -0.1645     0.9940
eligibility_allowance_housing                            0.0718     0.9803
regionFI19                                               0.0000          .
regionFI1B                                               0.0000          .
regionFI1C                                               0.0000          .
regionFI1D                                               0.0000          .
tenure_statusOwner without outstanding mortgage          0.0000          .
tenure_statusOwner with outstanding mortgage             0.0000          .
tenure_statusTenant, rent at market price                0.0000          .
tenure_statusTenant, rent at reduced price               0.0000          .
tenure_statusTenant, rent free                           0.0000          .
                                                eCDF Mean eCDF Max
n_persons                                          0.0000   0.0000
income_disposable_eqi                              0.0778   0.2584
eligibility_allowance_housing                      0.0229   0.1100
regionFI19                                         0.0000   0.0000
regionFI1B                                         0.0000   0.0000
regionFI1C                                         0.0000   0.0000
regionFI1D                                         0.0000   0.0000
tenure_statusOwner without outstanding mortgage    0.0000   0.0000
tenure_statusOwner with outstanding mortgage       0.0000   0.0000
tenure_statusTenant, rent at market price          0.0000   0.0000
tenure_statusTenant, rent at reduced price         0.0000   0.0000
tenure_statusTenant, rent free                     0.0000   0.0000
                                                Std. Pair Dist.
n_persons                                                0.0000
income_disposable_eqi                                    0.3789
eligibility_allowance_housing                            0.2300
regionFI19                                               0.0000
regionFI1B                                               0.0000
regionFI1C                                               0.0000
regionFI1D                                               0.0000
tenure_statusOwner without outstanding mortgage          0.0000
tenure_statusOwner with outstanding mortgage             0.0000
tenure_statusTenant, rent at market price                0.0000
tenure_statusTenant, rent at reduced price               0.0000
tenure_statusTenant, rent free                           0.0000

Sample Sizes:
              Control Treated
All           4061.       211
Matched (ESS)   61.96     209
Matched        126.       209
Unmatched     3935.         2
Discarded        0.         0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">summary</span>(fi_pensioners_hb))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="eligibility_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>fi_pensionsers_hb_data <span class="ot">&lt;-</span> <span class="fu">match_data</span>(fi_pensioners_hb) <span class="sc">%&gt;%</span> </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate_dimensions</span>()</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="fu">glm</span>(dim_affordability <span class="sc">~</span> takeup_allowance_housing <span class="sc">+</span> eligibility_allowance_housing, </span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="st">"binomial"</span>,</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> fi_pensionsers_hb_data) <span class="sc">%&gt;%</span> </span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>  modelsummary<span class="sc">::</span><span class="fu">modelsummary</span>(., <span class="at">stars =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<!-- preamble start -->

    <script>

      function styleCell_5t4qahbf6sfxxxlcop9z(i, j, css_id) {
          var table = document.getElementById("tinytable_5t4qahbf6sfxxxlcop9z");
          var cell = table.rows[i]?.cells[j];  // Safe navigation to avoid errors
          if (cell) {
              console.log(`Styling cell at (${i}, ${j}) with class ${css_id}`);
              cell.classList.add(css_id);
          } else {
              console.warn(`Cell at (${i}, ${j}) not found.`);
          }
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_5t4qahbf6sfxxxlcop9z');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_5t4qahbf6sfxxxlcop9z(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_5t4qahbf6sfxxxlcop9z");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: 12, j: 1 },  ], css_id: 'tinytable_css_25qj9mr81cit8nje28lp',}, 
          { positions: [ { i: 6, j: 1 },  ], css_id: 'tinytable_css_y23hpc2exvz86fx8zbrn',}, 
          { positions: [ { i: 1, j: 1 }, { i: 2, j: 1 }, { i: 3, j: 1 }, { i: 4, j: 1 }, { i: 5, j: 1 }, { i: 10, j: 1 }, { i: 7, j: 1 }, { i: 8, j: 1 }, { i: 9, j: 1 }, { i: 11, j: 1 },  ], css_id: 'tinytable_css_2nohkg7x2hqugh1era8k',}, 
          { positions: [ { i: 0, j: 1 },  ], css_id: 'tinytable_css_wvou1w4t68i7c6samsi9',}, 
          { positions: [ { i: 12, j: 0 },  ], css_id: 'tinytable_css_yfhazyjeok5p15x2zhl8',}, 
          { positions: [ { i: 6, j: 0 },  ], css_id: 'tinytable_css_w13m1at52s6pk65r2zkq',}, 
          { positions: [ { i: 1, j: 0 }, { i: 2, j: 0 }, { i: 3, j: 0 }, { i: 4, j: 0 }, { i: 5, j: 0 }, { i: 10, j: 0 }, { i: 7, j: 0 }, { i: 8, j: 0 }, { i: 9, j: 0 }, { i: 11, j: 0 },  ], css_id: 'tinytable_css_g6ygc3otfjlwujatbjma',}, 
          { positions: [ { i: 0, j: 0 },  ], css_id: 'tinytable_css_gf29bv6oijzr8z3z5jyu',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  styleCell_5t4qahbf6sfxxxlcop9z(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <style>
      /* tinytable css entries after */
      .table td.tinytable_css_25qj9mr81cit8nje28lp, .table th.tinytable_css_25qj9mr81cit8nje28lp { text-align: center; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_y23hpc2exvz86fx8zbrn, .table th.tinytable_css_y23hpc2exvz86fx8zbrn { text-align: center; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_2nohkg7x2hqugh1era8k, .table th.tinytable_css_2nohkg7x2hqugh1era8k { text-align: center; }
      .table td.tinytable_css_wvou1w4t68i7c6samsi9, .table th.tinytable_css_wvou1w4t68i7c6samsi9 { text-align: center; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
      .table td.tinytable_css_yfhazyjeok5p15x2zhl8, .table th.tinytable_css_yfhazyjeok5p15x2zhl8 { text-align: left; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_w13m1at52s6pk65r2zkq, .table th.tinytable_css_w13m1at52s6pk65r2zkq { text-align: left; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_g6ygc3otfjlwujatbjma, .table th.tinytable_css_g6ygc3otfjlwujatbjma { text-align: left; }
      .table td.tinytable_css_gf29bv6oijzr8z3z5jyu, .table th.tinytable_css_gf29bv6oijzr8z3z5jyu { text-align: left; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_5t4qahbf6sfxxxlcop9z" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="2">+ p &lt; 0.1, * p &lt; 0.05, ** p &lt; 0.01, *** p &lt; 0.001</td></tr></tfoot>
        <tbody>
                <tr>
                  <td>(Intercept)</td>
                  <td>-1.500***</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.265)</td>
                </tr>
                <tr>
                  <td>takeup_allowance_housingTRUE</td>
                  <td>0.324</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.246)</td>
                </tr>
                <tr>
                  <td>eligibility_allowance_housing</td>
                  <td>0.002***</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.000)</td>
                </tr>
                <tr>
                  <td>Num.Obs.</td>
                  <td>335</td>
                </tr>
                <tr>
                  <td>AIC</td>
                  <td>424.2</td>
                </tr>
                <tr>
                  <td>BIC</td>
                  <td>435.7</td>
                </tr>
                <tr>
                  <td>Log.Lik.</td>
                  <td>-209.120</td>
                </tr>
                <tr>
                  <td>F</td>
                  <td>10.421</td>
                </tr>
                <tr>
                  <td>RMSE</td>
                  <td>0.47</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glm</span>(dim_quality <span class="sc">~</span> takeup_allowance_housing <span class="sc">+</span> eligibility_allowance_housing, </span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="st">"binomial"</span>,</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> fi_pensionsers_hb_data) <span class="sc">%&gt;%</span> </span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  modelsummary<span class="sc">::</span><span class="fu">modelsummary</span>(., <span class="at">stars =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<!-- preamble start -->

    <script>

      function styleCell_h49gvymf673nn5p8kf7b(i, j, css_id) {
          var table = document.getElementById("tinytable_h49gvymf673nn5p8kf7b");
          var cell = table.rows[i]?.cells[j];  // Safe navigation to avoid errors
          if (cell) {
              console.log(`Styling cell at (${i}, ${j}) with class ${css_id}`);
              cell.classList.add(css_id);
          } else {
              console.warn(`Cell at (${i}, ${j}) not found.`);
          }
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_h49gvymf673nn5p8kf7b');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_h49gvymf673nn5p8kf7b(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_h49gvymf673nn5p8kf7b");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: 12, j: 1 },  ], css_id: 'tinytable_css_ek2646ku7cpv5oj11jri',}, 
          { positions: [ { i: 6, j: 1 },  ], css_id: 'tinytable_css_iyrsquni9ph4038io05q',}, 
          { positions: [ { i: 1, j: 1 }, { i: 2, j: 1 }, { i: 3, j: 1 }, { i: 4, j: 1 }, { i: 5, j: 1 }, { i: 10, j: 1 }, { i: 7, j: 1 }, { i: 8, j: 1 }, { i: 9, j: 1 }, { i: 11, j: 1 },  ], css_id: 'tinytable_css_aw3w3h2402jnvbjc414g',}, 
          { positions: [ { i: 0, j: 1 },  ], css_id: 'tinytable_css_lk0f2jipp7ux9r3kk46o',}, 
          { positions: [ { i: 12, j: 0 },  ], css_id: 'tinytable_css_cb9ah8yzfixl35nllhtu',}, 
          { positions: [ { i: 6, j: 0 },  ], css_id: 'tinytable_css_xsxea1z3xpuc87qs27f3',}, 
          { positions: [ { i: 1, j: 0 }, { i: 2, j: 0 }, { i: 3, j: 0 }, { i: 4, j: 0 }, { i: 5, j: 0 }, { i: 10, j: 0 }, { i: 7, j: 0 }, { i: 8, j: 0 }, { i: 9, j: 0 }, { i: 11, j: 0 },  ], css_id: 'tinytable_css_qr4vtln7vegugvpt1uac',}, 
          { positions: [ { i: 0, j: 0 },  ], css_id: 'tinytable_css_6l60hr12vlaa7t656ig0',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  styleCell_h49gvymf673nn5p8kf7b(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <style>
      /* tinytable css entries after */
      .table td.tinytable_css_ek2646ku7cpv5oj11jri, .table th.tinytable_css_ek2646ku7cpv5oj11jri { text-align: center; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_iyrsquni9ph4038io05q, .table th.tinytable_css_iyrsquni9ph4038io05q { text-align: center; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_aw3w3h2402jnvbjc414g, .table th.tinytable_css_aw3w3h2402jnvbjc414g { text-align: center; }
      .table td.tinytable_css_lk0f2jipp7ux9r3kk46o, .table th.tinytable_css_lk0f2jipp7ux9r3kk46o { text-align: center; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
      .table td.tinytable_css_cb9ah8yzfixl35nllhtu, .table th.tinytable_css_cb9ah8yzfixl35nllhtu { text-align: left; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_xsxea1z3xpuc87qs27f3, .table th.tinytable_css_xsxea1z3xpuc87qs27f3 { text-align: left; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_qr4vtln7vegugvpt1uac, .table th.tinytable_css_qr4vtln7vegugvpt1uac { text-align: left; }
      .table td.tinytable_css_6l60hr12vlaa7t656ig0, .table th.tinytable_css_6l60hr12vlaa7t656ig0 { text-align: left; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_h49gvymf673nn5p8kf7b" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="2">+ p &lt; 0.1, * p &lt; 0.05, ** p &lt; 0.01, *** p &lt; 0.001</td></tr></tfoot>
        <tbody>
                <tr>
                  <td>(Intercept)</td>
                  <td>-1.730***</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.350)</td>
                </tr>
                <tr>
                  <td>takeup_allowance_housingTRUE</td>
                  <td>0.559</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.354)</td>
                </tr>
                <tr>
                  <td>eligibility_allowance_housing</td>
                  <td>-0.001*</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.001)</td>
                </tr>
                <tr>
                  <td>Num.Obs.</td>
                  <td>335</td>
                </tr>
                <tr>
                  <td>AIC</td>
                  <td>267.5</td>
                </tr>
                <tr>
                  <td>BIC</td>
                  <td>278.9</td>
                </tr>
                <tr>
                  <td>Log.Lik.</td>
                  <td>-130.742</td>
                </tr>
                <tr>
                  <td>F</td>
                  <td>2.911</td>
                </tr>
                <tr>
                  <td>RMSE</td>
                  <td>0.34</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glm</span>(dim_quality2 <span class="sc">~</span> takeup_allowance_housing <span class="sc">+</span> eligibility_allowance_housing, </span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="st">"binomial"</span>,</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> fi_pensionsers_hb_data) <span class="sc">%&gt;%</span> </span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  modelsummary<span class="sc">::</span><span class="fu">modelsummary</span>(., <span class="at">stars =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<!-- preamble start -->

    <script>

      function styleCell_7p7avmq8fna5n0e1f0os(i, j, css_id) {
          var table = document.getElementById("tinytable_7p7avmq8fna5n0e1f0os");
          var cell = table.rows[i]?.cells[j];  // Safe navigation to avoid errors
          if (cell) {
              console.log(`Styling cell at (${i}, ${j}) with class ${css_id}`);
              cell.classList.add(css_id);
          } else {
              console.warn(`Cell at (${i}, ${j}) not found.`);
          }
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_7p7avmq8fna5n0e1f0os');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_7p7avmq8fna5n0e1f0os(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_7p7avmq8fna5n0e1f0os");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: 12, j: 1 },  ], css_id: 'tinytable_css_fi1ofzno027vfd9gt1rv',}, 
          { positions: [ { i: 6, j: 1 },  ], css_id: 'tinytable_css_dpfxr0eclsk5abjxajvw',}, 
          { positions: [ { i: 1, j: 1 }, { i: 2, j: 1 }, { i: 3, j: 1 }, { i: 4, j: 1 }, { i: 5, j: 1 }, { i: 10, j: 1 }, { i: 7, j: 1 }, { i: 8, j: 1 }, { i: 9, j: 1 }, { i: 11, j: 1 },  ], css_id: 'tinytable_css_o43ylmoi584k55luzh7h',}, 
          { positions: [ { i: 0, j: 1 },  ], css_id: 'tinytable_css_9abiq7mklx5fg92walhh',}, 
          { positions: [ { i: 12, j: 0 },  ], css_id: 'tinytable_css_alwlkxdixfe1fevwx48h',}, 
          { positions: [ { i: 6, j: 0 },  ], css_id: 'tinytable_css_6nd3cfeqv7x14zbcmoap',}, 
          { positions: [ { i: 1, j: 0 }, { i: 2, j: 0 }, { i: 3, j: 0 }, { i: 4, j: 0 }, { i: 5, j: 0 }, { i: 10, j: 0 }, { i: 7, j: 0 }, { i: 8, j: 0 }, { i: 9, j: 0 }, { i: 11, j: 0 },  ], css_id: 'tinytable_css_ran3fgdvltqv0tsfmu61',}, 
          { positions: [ { i: 0, j: 0 },  ], css_id: 'tinytable_css_av1ncmq5szh35yfw6fdx',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  styleCell_7p7avmq8fna5n0e1f0os(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <style>
      /* tinytable css entries after */
      .table td.tinytable_css_fi1ofzno027vfd9gt1rv, .table th.tinytable_css_fi1ofzno027vfd9gt1rv { text-align: center; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_dpfxr0eclsk5abjxajvw, .table th.tinytable_css_dpfxr0eclsk5abjxajvw { text-align: center; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_o43ylmoi584k55luzh7h, .table th.tinytable_css_o43ylmoi584k55luzh7h { text-align: center; }
      .table td.tinytable_css_9abiq7mklx5fg92walhh, .table th.tinytable_css_9abiq7mklx5fg92walhh { text-align: center; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
      .table td.tinytable_css_alwlkxdixfe1fevwx48h, .table th.tinytable_css_alwlkxdixfe1fevwx48h { text-align: left; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_6nd3cfeqv7x14zbcmoap, .table th.tinytable_css_6nd3cfeqv7x14zbcmoap { text-align: left; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_ran3fgdvltqv0tsfmu61, .table th.tinytable_css_ran3fgdvltqv0tsfmu61 { text-align: left; }
      .table td.tinytable_css_av1ncmq5szh35yfw6fdx, .table th.tinytable_css_av1ncmq5szh35yfw6fdx { text-align: left; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_7p7avmq8fna5n0e1f0os" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="2">+ p &lt; 0.1, * p &lt; 0.05, ** p &lt; 0.01, *** p &lt; 0.001</td></tr></tfoot>
        <tbody>
                <tr>
                  <td>(Intercept)</td>
                  <td>-1.399***</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.312)</td>
                </tr>
                <tr>
                  <td>takeup_allowance_housingTRUE</td>
                  <td>0.660*</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.315)</td>
                </tr>
                <tr>
                  <td>eligibility_allowance_housing</td>
                  <td>-0.001*</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.001)</td>
                </tr>
                <tr>
                  <td>Num.Obs.</td>
                  <td>334</td>
                </tr>
                <tr>
                  <td>AIC</td>
                  <td>319.5</td>
                </tr>
                <tr>
                  <td>BIC</td>
                  <td>330.9</td>
                </tr>
                <tr>
                  <td>Log.Lik.</td>
                  <td>-156.744</td>
                </tr>
                <tr>
                  <td>F</td>
                  <td>4.404</td>
                </tr>
                <tr>
                  <td>RMSE</td>
                  <td>0.39</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glm</span>(dim_insecurity <span class="sc">~</span> takeup_allowance_housing <span class="sc">+</span> eligibility_allowance_housing, </span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="st">"binomial"</span>,</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> fi_pensionsers_hb_data) <span class="sc">%&gt;%</span> </span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  modelsummary<span class="sc">::</span><span class="fu">modelsummary</span>(., <span class="at">stars =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<!-- preamble start -->

    <script>

      function styleCell_gdlzqina8p0q46e9hvvz(i, j, css_id) {
          var table = document.getElementById("tinytable_gdlzqina8p0q46e9hvvz");
          var cell = table.rows[i]?.cells[j];  // Safe navigation to avoid errors
          if (cell) {
              console.log(`Styling cell at (${i}, ${j}) with class ${css_id}`);
              cell.classList.add(css_id);
          } else {
              console.warn(`Cell at (${i}, ${j}) not found.`);
          }
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_gdlzqina8p0q46e9hvvz');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_gdlzqina8p0q46e9hvvz(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_gdlzqina8p0q46e9hvvz");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: 12, j: 1 },  ], css_id: 'tinytable_css_pmx0mo1ken45ex8fyl5c',}, 
          { positions: [ { i: 6, j: 1 },  ], css_id: 'tinytable_css_22k4pxqys7daz3gpfg7d',}, 
          { positions: [ { i: 1, j: 1 }, { i: 2, j: 1 }, { i: 3, j: 1 }, { i: 4, j: 1 }, { i: 5, j: 1 }, { i: 10, j: 1 }, { i: 7, j: 1 }, { i: 8, j: 1 }, { i: 9, j: 1 }, { i: 11, j: 1 },  ], css_id: 'tinytable_css_8l7c2ded4lyoqsd80gjh',}, 
          { positions: [ { i: 0, j: 1 },  ], css_id: 'tinytable_css_3zocggczun0zlk96mdnn',}, 
          { positions: [ { i: 12, j: 0 },  ], css_id: 'tinytable_css_0l8hrmek1fzqa31i5k5o',}, 
          { positions: [ { i: 6, j: 0 },  ], css_id: 'tinytable_css_5ag7o5htrfauiky6zsjk',}, 
          { positions: [ { i: 1, j: 0 }, { i: 2, j: 0 }, { i: 3, j: 0 }, { i: 4, j: 0 }, { i: 5, j: 0 }, { i: 10, j: 0 }, { i: 7, j: 0 }, { i: 8, j: 0 }, { i: 9, j: 0 }, { i: 11, j: 0 },  ], css_id: 'tinytable_css_f1qc2x65096oxtxjo78b',}, 
          { positions: [ { i: 0, j: 0 },  ], css_id: 'tinytable_css_efq8bnkq7nkyd1a7i1ep',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  styleCell_gdlzqina8p0q46e9hvvz(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <style>
      /* tinytable css entries after */
      .table td.tinytable_css_pmx0mo1ken45ex8fyl5c, .table th.tinytable_css_pmx0mo1ken45ex8fyl5c { text-align: center; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_22k4pxqys7daz3gpfg7d, .table th.tinytable_css_22k4pxqys7daz3gpfg7d { text-align: center; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_8l7c2ded4lyoqsd80gjh, .table th.tinytable_css_8l7c2ded4lyoqsd80gjh { text-align: center; }
      .table td.tinytable_css_3zocggczun0zlk96mdnn, .table th.tinytable_css_3zocggczun0zlk96mdnn { text-align: center; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
      .table td.tinytable_css_0l8hrmek1fzqa31i5k5o, .table th.tinytable_css_0l8hrmek1fzqa31i5k5o { text-align: left; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_5ag7o5htrfauiky6zsjk, .table th.tinytable_css_5ag7o5htrfauiky6zsjk { text-align: left; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_f1qc2x65096oxtxjo78b, .table th.tinytable_css_f1qc2x65096oxtxjo78b { text-align: left; }
      .table td.tinytable_css_efq8bnkq7nkyd1a7i1ep, .table th.tinytable_css_efq8bnkq7nkyd1a7i1ep { text-align: left; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_gdlzqina8p0q46e9hvvz" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="2">+ p &lt; 0.1, * p &lt; 0.05, ** p &lt; 0.01, *** p &lt; 0.001</td></tr></tfoot>
        <tbody>
                <tr>
                  <td>(Intercept)</td>
                  <td>-3.339***</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.486)</td>
                </tr>
                <tr>
                  <td>takeup_allowance_housingTRUE</td>
                  <td>0.770+</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.448)</td>
                </tr>
                <tr>
                  <td>eligibility_allowance_housing</td>
                  <td>0.001*</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.001)</td>
                </tr>
                <tr>
                  <td>Num.Obs.</td>
                  <td>335</td>
                </tr>
                <tr>
                  <td>AIC</td>
                  <td>205.4</td>
                </tr>
                <tr>
                  <td>BIC</td>
                  <td>216.8</td>
                </tr>
                <tr>
                  <td>Log.Lik.</td>
                  <td>-99.676</td>
                </tr>
                <tr>
                  <td>F</td>
                  <td>3.446</td>
                </tr>
                <tr>
                  <td>RMSE</td>
                  <td>0.29</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glm</span>(dim_locality <span class="sc">~</span> takeup_allowance_housing <span class="sc">+</span> eligibility_allowance_housing, </span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="st">"binomial"</span>,</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> fi_pensionsers_hb_data) <span class="sc">%&gt;%</span> </span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  modelsummary<span class="sc">::</span><span class="fu">modelsummary</span>(., <span class="at">stars =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<!-- preamble start -->

    <script>

      function styleCell_qq80ggecxsl5q1ph7rru(i, j, css_id) {
          var table = document.getElementById("tinytable_qq80ggecxsl5q1ph7rru");
          var cell = table.rows[i]?.cells[j];  // Safe navigation to avoid errors
          if (cell) {
              console.log(`Styling cell at (${i}, ${j}) with class ${css_id}`);
              cell.classList.add(css_id);
          } else {
              console.warn(`Cell at (${i}, ${j}) not found.`);
          }
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_qq80ggecxsl5q1ph7rru');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_qq80ggecxsl5q1ph7rru(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_qq80ggecxsl5q1ph7rru");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: 12, j: 1 },  ], css_id: 'tinytable_css_bh13o4ywfyhmkwrdyymv',}, 
          { positions: [ { i: 6, j: 1 },  ], css_id: 'tinytable_css_p4a1oyssg3728ca6msjy',}, 
          { positions: [ { i: 1, j: 1 }, { i: 2, j: 1 }, { i: 3, j: 1 }, { i: 4, j: 1 }, { i: 5, j: 1 }, { i: 10, j: 1 }, { i: 7, j: 1 }, { i: 8, j: 1 }, { i: 9, j: 1 }, { i: 11, j: 1 },  ], css_id: 'tinytable_css_asxbj0jqqjwjpw24c66z',}, 
          { positions: [ { i: 0, j: 1 },  ], css_id: 'tinytable_css_6u7ct96sjqjmgsm9gfao',}, 
          { positions: [ { i: 12, j: 0 },  ], css_id: 'tinytable_css_q756jgr21z6rogfqxn6e',}, 
          { positions: [ { i: 6, j: 0 },  ], css_id: 'tinytable_css_w4qzp9gmzx3dxpo01lfy',}, 
          { positions: [ { i: 1, j: 0 }, { i: 2, j: 0 }, { i: 3, j: 0 }, { i: 4, j: 0 }, { i: 5, j: 0 }, { i: 10, j: 0 }, { i: 7, j: 0 }, { i: 8, j: 0 }, { i: 9, j: 0 }, { i: 11, j: 0 },  ], css_id: 'tinytable_css_vno4sea372condh833wt',}, 
          { positions: [ { i: 0, j: 0 },  ], css_id: 'tinytable_css_bfawpzzxnwn145zn09pw',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  styleCell_qq80ggecxsl5q1ph7rru(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <style>
      /* tinytable css entries after */
      .table td.tinytable_css_bh13o4ywfyhmkwrdyymv, .table th.tinytable_css_bh13o4ywfyhmkwrdyymv { text-align: center; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_p4a1oyssg3728ca6msjy, .table th.tinytable_css_p4a1oyssg3728ca6msjy { text-align: center; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_asxbj0jqqjwjpw24c66z, .table th.tinytable_css_asxbj0jqqjwjpw24c66z { text-align: center; }
      .table td.tinytable_css_6u7ct96sjqjmgsm9gfao, .table th.tinytable_css_6u7ct96sjqjmgsm9gfao { text-align: center; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
      .table td.tinytable_css_q756jgr21z6rogfqxn6e, .table th.tinytable_css_q756jgr21z6rogfqxn6e { text-align: left; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_w4qzp9gmzx3dxpo01lfy, .table th.tinytable_css_w4qzp9gmzx3dxpo01lfy { text-align: left; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_vno4sea372condh833wt, .table th.tinytable_css_vno4sea372condh833wt { text-align: left; }
      .table td.tinytable_css_bfawpzzxnwn145zn09pw, .table th.tinytable_css_bfawpzzxnwn145zn09pw { text-align: left; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_qq80ggecxsl5q1ph7rru" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="2">+ p &lt; 0.1, * p &lt; 0.05, ** p &lt; 0.01, *** p &lt; 0.001</td></tr></tfoot>
        <tbody>
                <tr>
                  <td>(Intercept)</td>
                  <td>-0.619**</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.240)</td>
                </tr>
                <tr>
                  <td>takeup_allowance_housingTRUE</td>
                  <td>0.512*</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.238)</td>
                </tr>
                <tr>
                  <td>eligibility_allowance_housing</td>
                  <td>-0.000</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.000)</td>
                </tr>
                <tr>
                  <td>Num.Obs.</td>
                  <td>334</td>
                </tr>
                <tr>
                  <td>AIC</td>
                  <td>447.0</td>
                </tr>
                <tr>
                  <td>BIC</td>
                  <td>458.5</td>
                </tr>
                <tr>
                  <td>Log.Lik.</td>
                  <td>-220.525</td>
                </tr>
                <tr>
                  <td>F</td>
                  <td>2.644</td>
                </tr>
                <tr>
                  <td>RMSE</td>
                  <td>0.48</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>fi_general_hb_2023 <span class="ot">&lt;-</span> fi_2023 <span class="sc">%&gt;%</span> </span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hh_id) <span class="sc">%&gt;%</span> </span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">any_pensioner =</span> <span class="fu">any</span>(econ_status <span class="sc">==</span> <span class="st">"Retired"</span>), </span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">n_adults =</span> <span class="fu">sum</span>(age <span class="sc">&gt;=</span> <span class="dv">18</span>), </span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">n_old_age =</span> <span class="fu">sum</span>(age <span class="sc">&gt;=</span> <span class="dv">65</span>),</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">n_children =</span> <span class="fu">sum</span>(age <span class="sc">&lt;</span> <span class="dv">18</span>)</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>any_pensioner) <span class="sc">%&gt;%</span> </span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(fi_general_hb_2023)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3872</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>fi_allowance_2023 <span class="ot">&lt;-</span> fi_general_hb_2023 <span class="sc">%&gt;%</span> </span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">maximum_housing_costs =</span> <span class="fu">case_when</span>(</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>      region <span class="sc">==</span> <span class="st">"FI1B"</span> <span class="sc">&amp;</span> n_persons <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> (<span class="dv">537</span><span class="sc">+</span><span class="dv">520</span>)<span class="sc">/</span><span class="dv">2</span>,</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>      region <span class="sc">==</span> <span class="st">"FI1B"</span> <span class="sc">&amp;</span> n_persons <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> (<span class="dv">778</span><span class="sc">+</span><span class="dv">746</span>)<span class="sc">/</span><span class="dv">2</span>,</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>      region <span class="sc">==</span> <span class="st">"FI1B"</span> <span class="sc">&amp;</span> n_persons <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> (<span class="dv">990</span><span class="sc">+</span><span class="dv">941</span>)<span class="sc">/</span><span class="dv">2</span>,</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>      region <span class="sc">==</span> <span class="st">"FI1B"</span> <span class="sc">&amp;</span> n_persons <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> (<span class="dv">1157</span><span class="sc">+</span><span class="dv">1097</span>)<span class="sc">/</span><span class="dv">2</span>,</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>      region <span class="sc">==</span> <span class="st">"FI1B"</span> <span class="sc">&amp;</span> n_persons <span class="sc">&gt;</span> <span class="dv">4</span> <span class="sc">~</span> (<span class="dv">1157</span><span class="sc">+</span><span class="dv">1097</span>)<span class="sc">/</span><span class="dv">2</span> <span class="sc">+</span> </span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>        ((<span class="dv">144</span><span class="sc">+</span><span class="dv">137</span>)<span class="sc">/</span><span class="dv">2</span> <span class="sc">*</span> (n_persons<span class="dv">-4</span>)),</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>      region <span class="sc">!=</span> <span class="st">"FI1B"</span> <span class="sc">&amp;</span> n_persons <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> (<span class="dv">413</span><span class="sc">+</span><span class="dv">364</span>)<span class="sc">/</span><span class="dv">2</span>,</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>      region <span class="sc">!=</span> <span class="st">"FI1B"</span> <span class="sc">&amp;</span> n_persons <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> (<span class="dv">602</span><span class="sc">+</span><span class="dv">530</span>)<span class="sc">/</span><span class="dv">2</span>,</span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>      region <span class="sc">!=</span> <span class="st">"FI1B"</span> <span class="sc">&amp;</span> n_persons <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> (<span class="dv">764</span><span class="sc">+</span><span class="dv">678</span>)<span class="sc">/</span><span class="dv">2</span>,</span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>      region <span class="sc">!=</span> <span class="st">"FI1B"</span> <span class="sc">&amp;</span> n_persons <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> (<span class="dv">906</span><span class="sc">+</span><span class="dv">808</span>)<span class="sc">/</span><span class="dv">2</span>,</span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>      region <span class="sc">!=</span> <span class="st">"FI1B"</span> <span class="sc">&amp;</span> n_persons <span class="sc">&gt;</span> <span class="dv">4</span> <span class="sc">~</span> (<span class="dv">906</span><span class="sc">+</span><span class="dv">808</span>)<span class="sc">/</span><span class="dv">2</span> <span class="sc">+</span> </span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>        ((<span class="dv">124</span><span class="sc">+</span><span class="dv">119</span>)<span class="sc">/</span><span class="dv">2</span> <span class="sc">*</span> (n_persons<span class="dv">-4</span>)),</span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">eligible_heating_costs =</span> <span class="fu">if_else</span>(</span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a>      region <span class="sc">==</span> <span class="st">"FI1D"</span>, </span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a>      <span class="dv">42</span> <span class="sc">+</span> <span class="dv">14</span> <span class="sc">*</span> (n_persons <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">*</span> <span class="fl">1.06</span>,</span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a>      <span class="dv">42</span> <span class="sc">+</span> <span class="dv">14</span> <span class="sc">*</span> (n_persons <span class="sc">-</span> <span class="dv">1</span>)</span>
<span id="cb34-21"><a href="#cb34-21" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb34-22"><a href="#cb34-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">r_rent =</span> <span class="fu">if_na</span>(rent, <span class="dv">0</span>),</span>
<span id="cb34-23"><a href="#cb34-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">maintenance_charge =</span> <span class="fu">case_when</span>(</span>
<span id="cb34-24"><a href="#cb34-24" aria-hidden="true" tabindex="-1"></a>      tenure_status <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Owner without outstanding mortgage"</span>,</span>
<span id="cb34-25"><a href="#cb34-25" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Owner with outstanding mortgage"</span>) <span class="sc">&amp;</span> </span>
<span id="cb34-26"><a href="#cb34-26" aria-hidden="true" tabindex="-1"></a>        dwelling_type <span class="sc">==</span> <span class="st">"Detached house"</span> <span class="sc">&amp;</span></span>
<span id="cb34-27"><a href="#cb34-27" aria-hidden="true" tabindex="-1"></a>        region <span class="sc">==</span> <span class="st">"FI1D"</span> <span class="sc">&amp;</span></span>
<span id="cb34-28"><a href="#cb34-28" aria-hidden="true" tabindex="-1"></a>        n_persons <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="dv">99</span> <span class="sc">*</span> <span class="fl">1.06</span>,</span>
<span id="cb34-29"><a href="#cb34-29" aria-hidden="true" tabindex="-1"></a>      tenure_status <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Owner without outstanding mortgage"</span>,</span>
<span id="cb34-30"><a href="#cb34-30" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Owner with outstanding mortgage"</span>) <span class="sc">&amp;</span> </span>
<span id="cb34-31"><a href="#cb34-31" aria-hidden="true" tabindex="-1"></a>        dwelling_type <span class="sc">==</span> <span class="st">"Detached house"</span> <span class="sc">&amp;</span></span>
<span id="cb34-32"><a href="#cb34-32" aria-hidden="true" tabindex="-1"></a>        n_persons <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="dv">99</span>,</span>
<span id="cb34-33"><a href="#cb34-33" aria-hidden="true" tabindex="-1"></a>      tenure_status <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Owner without outstanding mortgage"</span>,</span>
<span id="cb34-34"><a href="#cb34-34" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Owner with outstanding mortgage"</span>) <span class="sc">&amp;</span> </span>
<span id="cb34-35"><a href="#cb34-35" aria-hidden="true" tabindex="-1"></a>        dwelling_type <span class="sc">==</span> <span class="st">"Detached house"</span> <span class="sc">&amp;</span></span>
<span id="cb34-36"><a href="#cb34-36" aria-hidden="true" tabindex="-1"></a>        region <span class="sc">==</span> <span class="st">"FI1D"</span> <span class="sc">&amp;</span></span>
<span id="cb34-37"><a href="#cb34-37" aria-hidden="true" tabindex="-1"></a>        n_persons <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="dv">119</span> <span class="sc">*</span> <span class="fl">1.06</span>,</span>
<span id="cb34-38"><a href="#cb34-38" aria-hidden="true" tabindex="-1"></a>      tenure_status <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Owner without outstanding mortgage"</span>,</span>
<span id="cb34-39"><a href="#cb34-39" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Owner with outstanding mortgage"</span>) <span class="sc">&amp;</span> </span>
<span id="cb34-40"><a href="#cb34-40" aria-hidden="true" tabindex="-1"></a>        dwelling_type <span class="sc">==</span> <span class="st">"Detached house"</span> <span class="sc">&amp;</span></span>
<span id="cb34-41"><a href="#cb34-41" aria-hidden="true" tabindex="-1"></a>        n_persons <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="dv">119</span>,</span>
<span id="cb34-42"><a href="#cb34-42" aria-hidden="true" tabindex="-1"></a>      tenure_status <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Owner without outstanding mortgage"</span>,</span>
<span id="cb34-43"><a href="#cb34-43" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Owner with outstanding mortgage"</span>) <span class="sc">&amp;</span> </span>
<span id="cb34-44"><a href="#cb34-44" aria-hidden="true" tabindex="-1"></a>        dwelling_type <span class="sc">==</span> <span class="st">"Detached house"</span> <span class="sc">&amp;</span></span>
<span id="cb34-45"><a href="#cb34-45" aria-hidden="true" tabindex="-1"></a>        region <span class="sc">==</span> <span class="st">"FI1D"</span> <span class="sc">&amp;</span></span>
<span id="cb34-46"><a href="#cb34-46" aria-hidden="true" tabindex="-1"></a>        n_persons <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="dv">150</span> <span class="sc">*</span> <span class="fl">1.06</span>,</span>
<span id="cb34-47"><a href="#cb34-47" aria-hidden="true" tabindex="-1"></a>      tenure_status <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Owner without outstanding mortgage"</span>,</span>
<span id="cb34-48"><a href="#cb34-48" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Owner with outstanding mortgage"</span>) <span class="sc">&amp;</span> </span>
<span id="cb34-49"><a href="#cb34-49" aria-hidden="true" tabindex="-1"></a>        dwelling_type <span class="sc">==</span> <span class="st">"Detached house"</span> <span class="sc">&amp;</span></span>
<span id="cb34-50"><a href="#cb34-50" aria-hidden="true" tabindex="-1"></a>        n_persons <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="dv">150</span>,</span>
<span id="cb34-51"><a href="#cb34-51" aria-hidden="true" tabindex="-1"></a>      tenure_status <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Owner without outstanding mortgage"</span>,</span>
<span id="cb34-52"><a href="#cb34-52" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Owner with outstanding mortgage"</span>) <span class="sc">&amp;</span> </span>
<span id="cb34-53"><a href="#cb34-53" aria-hidden="true" tabindex="-1"></a>        dwelling_type <span class="sc">==</span> <span class="st">"Detached house"</span> <span class="sc">&amp;</span></span>
<span id="cb34-54"><a href="#cb34-54" aria-hidden="true" tabindex="-1"></a>        region <span class="sc">==</span> <span class="st">"FI1D"</span> <span class="sc">&amp;</span></span>
<span id="cb34-55"><a href="#cb34-55" aria-hidden="true" tabindex="-1"></a>        n_persons <span class="sc">&gt;=</span> <span class="dv">4</span> <span class="sc">~</span> (<span class="dv">177</span> <span class="sc">+</span> (<span class="dv">55</span> <span class="sc">*</span> (n_persons <span class="sc">-</span> <span class="dv">4</span>))) <span class="sc">*</span> <span class="fl">1.06</span>,</span>
<span id="cb34-56"><a href="#cb34-56" aria-hidden="true" tabindex="-1"></a>      tenure_status <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Owner without outstanding mortgage"</span>,</span>
<span id="cb34-57"><a href="#cb34-57" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Owner with outstanding mortgage"</span>) <span class="sc">&amp;</span> </span>
<span id="cb34-58"><a href="#cb34-58" aria-hidden="true" tabindex="-1"></a>        dwelling_type <span class="sc">==</span> <span class="st">"Detached house"</span> <span class="sc">&amp;</span></span>
<span id="cb34-59"><a href="#cb34-59" aria-hidden="true" tabindex="-1"></a>        n_persons <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> (<span class="dv">177</span> <span class="sc">+</span> (<span class="dv">55</span> <span class="sc">*</span> (n_persons <span class="sc">-</span> <span class="dv">4</span>))),</span>
<span id="cb34-60"><a href="#cb34-60" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb34-61"><a href="#cb34-61" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb34-62"><a href="#cb34-62" aria-hidden="true" tabindex="-1"></a>    <span class="at">eligible_water_costs =</span> n_persons <span class="sc">*</span> <span class="dv">19</span>,</span>
<span id="cb34-63"><a href="#cb34-63" aria-hidden="true" tabindex="-1"></a>    <span class="co"># </span><span class="al">TODO</span><span class="co">: 73% of monthly interest</span></span>
<span id="cb34-64"><a href="#cb34-64" aria-hidden="true" tabindex="-1"></a>    <span class="at">interest_payment =</span> <span class="dv">0</span>,</span>
<span id="cb34-65"><a href="#cb34-65" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_maintenance_charge =</span> </span>
<span id="cb34-66"><a href="#cb34-66" aria-hidden="true" tabindex="-1"></a>      <span class="fu">if_else</span>(</span>
<span id="cb34-67"><a href="#cb34-67" aria-hidden="true" tabindex="-1"></a>        maintenance_charge <span class="sc">/</span> (maintenance_charge <span class="sc">+</span> </span>
<span id="cb34-68"><a href="#cb34-68" aria-hidden="true" tabindex="-1"></a>                                eligible_heating_costs <span class="sc">+</span></span>
<span id="cb34-69"><a href="#cb34-69" aria-hidden="true" tabindex="-1"></a>                                eligible_water_costs <span class="sc">+</span> interest_payment) <span class="sc">&gt;</span> <span class="fl">0.3</span>,</span>
<span id="cb34-70"><a href="#cb34-70" aria-hidden="true" tabindex="-1"></a>        (eligible_heating_costs <span class="sc">+</span> eligible_water_costs <span class="sc">+</span> interest_payment) <span class="sc">/</span> <span class="fl">0.7</span> <span class="sc">-</span> </span>
<span id="cb34-71"><a href="#cb34-71" aria-hidden="true" tabindex="-1"></a>          (eligible_heating_costs <span class="sc">+</span> eligible_water_costs <span class="sc">+</span> interest_payment), </span>
<span id="cb34-72"><a href="#cb34-72" aria-hidden="true" tabindex="-1"></a>        maintenance_charge</span>
<span id="cb34-73"><a href="#cb34-73" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb34-74"><a href="#cb34-74" aria-hidden="true" tabindex="-1"></a>    <span class="at">acceptable_housing_costs =</span> r_rent <span class="sc">+</span> eligible_heating_costs <span class="sc">+</span> </span>
<span id="cb34-75"><a href="#cb34-75" aria-hidden="true" tabindex="-1"></a>        maintenance_charge <span class="sc">+</span> eligible_water_costs,</span>
<span id="cb34-76"><a href="#cb34-76" aria-hidden="true" tabindex="-1"></a>    <span class="at">eligible_gross_income =</span> income_gross <span class="sc">-</span> allowance_family <span class="sc">-</span> </span>
<span id="cb34-77"><a href="#cb34-77" aria-hidden="true" tabindex="-1"></a>      allowance_social <span class="sc">-</span> allowance_housing,</span>
<span id="cb34-78"><a href="#cb34-78" aria-hidden="true" tabindex="-1"></a>    <span class="at">basic_deductible =</span> <span class="fl">0.42</span> <span class="sc">*</span> (eligible_gross_income<span class="sc">/</span><span class="dv">12</span> <span class="sc">-</span> (<span class="dv">619</span> <span class="sc">+</span> <span class="dv">103</span> <span class="sc">*</span> n_adults <span class="sc">+</span> </span>
<span id="cb34-79"><a href="#cb34-79" aria-hidden="true" tabindex="-1"></a>                                 <span class="dv">228</span> <span class="sc">*</span> n_children)),</span>
<span id="cb34-80"><a href="#cb34-80" aria-hidden="true" tabindex="-1"></a>    <span class="at">eligibility_allowance_housing =</span> (<span class="fl">0.8</span> <span class="sc">*</span> (acceptable_housing_costs <span class="sc">-</span> basic_deductible)) <span class="sc">%&gt;%</span> </span>
<span id="cb34-81"><a href="#cb34-81" aria-hidden="true" tabindex="-1"></a>      <span class="fu">if_else</span>(. <span class="sc">&lt;</span> <span class="dv">0</span>, <span class="dv">0</span>, .)</span>
<span id="cb34-82"><a href="#cb34-82" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb34-83"><a href="#cb34-83" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb34-84"><a href="#cb34-84" aria-hidden="true" tabindex="-1"></a>    tenure_status, rent, n_persons,</span>
<span id="cb34-85"><a href="#cb34-85" aria-hidden="true" tabindex="-1"></a>    eligibility_allowance_housing, allowance_housing,</span>
<span id="cb34-86"><a href="#cb34-86" aria-hidden="true" tabindex="-1"></a>    eligible_gross_income, <span class="fu">everything</span>()</span>
<span id="cb34-87"><a href="#cb34-87" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb34-88"><a href="#cb34-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-89"><a href="#cb34-89" aria-hidden="true" tabindex="-1"></a>fi_allowance_2023_match <span class="ot">&lt;-</span> <span class="fu">matchit</span>(takeup_allowance_housing <span class="sc">~</span> n_persons <span class="sc">+</span> </span>
<span id="cb34-90"><a href="#cb34-90" aria-hidden="true" tabindex="-1"></a>                              income_disposable_eqi <span class="sc">+</span> </span>
<span id="cb34-91"><a href="#cb34-91" aria-hidden="true" tabindex="-1"></a>                              eligibility_allowance_housing <span class="sc">+</span> </span>
<span id="cb34-92"><a href="#cb34-92" aria-hidden="true" tabindex="-1"></a>                              region <span class="sc">+</span> tenure_status, </span>
<span id="cb34-93"><a href="#cb34-93" aria-hidden="true" tabindex="-1"></a>        <span class="co"># exact = ~ country + tenure_status, </span></span>
<span id="cb34-94"><a href="#cb34-94" aria-hidden="true" tabindex="-1"></a>        <span class="at">method =</span> <span class="st">"nearest"</span>,</span>
<span id="cb34-95"><a href="#cb34-95" aria-hidden="true" tabindex="-1"></a>        <span class="at">distance =</span> <span class="st">"mahalanobis"</span>,</span>
<span id="cb34-96"><a href="#cb34-96" aria-hidden="true" tabindex="-1"></a>        <span class="at">replace =</span> <span class="cn">TRUE</span>,</span>
<span id="cb34-97"><a href="#cb34-97" aria-hidden="true" tabindex="-1"></a>        <span class="at">exact =</span> <span class="sc">~</span> n_persons <span class="sc">+</span>  </span>
<span id="cb34-98"><a href="#cb34-98" aria-hidden="true" tabindex="-1"></a>          tenure_status <span class="sc">+</span> region,</span>
<span id="cb34-99"><a href="#cb34-99" aria-hidden="true" tabindex="-1"></a>        <span class="at">data =</span> fi_allowance_2023 <span class="sc">%&gt;%</span> </span>
<span id="cb34-100"><a href="#cb34-100" aria-hidden="true" tabindex="-1"></a>          <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(region)))</span>
<span id="cb34-101"><a href="#cb34-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-102"><a href="#cb34-102" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fi_allowance_2023_match)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
matchit(formula = takeup_allowance_housing ~ n_persons + income_disposable_eqi + 
    eligibility_allowance_housing + region + tenure_status, data = fi_allowance_2023 %&gt;% 
    filter(!is.na(region)), method = "nearest", distance = "mahalanobis", 
    exact = ~n_persons + tenure_status + region, replace = TRUE)

Summary of Balance for All Data:
                                                Means Treated Means Control
n_persons                                              1.4670        1.9339
income_disposable_eqi                              19404.2815    43741.0380
eligibility_allowance_housing                        279.3029       11.8932
regionFI19                                             0.2902        0.2604
regionFI1B                                             0.3103        0.3312
regionFI1C                                             0.1695        0.2003
regionFI1D                                             0.2299        0.2081
tenure_statusOwner without outstanding mortgage        0.0704        0.3410
tenure_statusOwner with outstanding mortgage           0.0704        0.4380
tenure_statusTenant, rent at market price              0.4727        0.1348
tenure_statusTenant, rent at reduced price             0.3865        0.0803
tenure_statusTenant, rent free                         0.0000        0.0060
                                                Std. Mean Diff. Var. Ratio
n_persons                                               -0.5941     0.8676
income_disposable_eqi                                   -1.8563     0.0248
eligibility_allowance_housing                            1.0928     9.5020
regionFI19                                               0.0657          .
regionFI1B                                              -0.0452          .
regionFI1C                                              -0.0818          .
regionFI1D                                               0.0517          .
tenure_statusOwner without outstanding mortgage         -1.0577          .
tenure_statusOwner with outstanding mortgage            -1.4368          .
tenure_statusTenant, rent at market price                0.6769          .
tenure_statusTenant, rent at reduced price               0.6288          .
tenure_statusTenant, rent free                          -0.0857          .
                                                eCDF Mean eCDF Max
n_persons                                          0.0787   0.3504
income_disposable_eqi                              0.3810   0.6606
eligibility_allowance_housing                      0.3956   0.6869
regionFI19                                         0.0298   0.0298
regionFI1B                                         0.0209   0.0209
regionFI1C                                         0.0307   0.0307
regionFI1D                                         0.0218   0.0218
tenure_statusOwner without outstanding mortgage    0.2706   0.2706
tenure_statusOwner with outstanding mortgage       0.3676   0.3676
tenure_statusTenant, rent at market price          0.3379   0.3379
tenure_statusTenant, rent at reduced price         0.3062   0.3062
tenure_statusTenant, rent free                     0.0060   0.0060

Summary of Balance for Matched Data:
                                                Means Treated Means Control
n_persons                                              1.4486        1.4486
income_disposable_eqi                              19365.1176    18991.3326
eligibility_allowance_housing                        280.7880      238.6326
regionFI19                                             0.2923        0.2923
regionFI1B                                             0.3111        0.3111
regionFI1C                                             0.1664        0.1664
regionFI1D                                             0.2301        0.2301
tenure_statusOwner without outstanding mortgage        0.0695        0.0695
tenure_statusOwner with outstanding mortgage           0.0695        0.0695
tenure_statusTenant, rent at market price              0.4761        0.4761
tenure_statusTenant, rent at reduced price             0.3849        0.3849
tenure_statusTenant, rent free                         0.0000        0.0000
                                                Std. Mean Diff. Var. Ratio
n_persons                                                0.0000     0.9880
income_disposable_eqi                                    0.0285     1.0145
eligibility_allowance_housing                            0.1723     1.2068
regionFI19                                               0.0000          .
regionFI1B                                               0.0000          .
regionFI1C                                               0.0000          .
regionFI1D                                               0.0000          .
tenure_statusOwner without outstanding mortgage          0.0000          .
tenure_statusOwner with outstanding mortgage             0.0000          .
tenure_statusTenant, rent at market price                0.0000          .
tenure_statusTenant, rent at reduced price               0.0000          .
tenure_statusTenant, rent free                           0.0000          .
                                                eCDF Mean eCDF Max
n_persons                                          0.0000   0.0000
income_disposable_eqi                              0.0277   0.1708
eligibility_allowance_housing                      0.0617   0.1867
regionFI19                                         0.0000   0.0000
regionFI1B                                         0.0000   0.0000
regionFI1C                                         0.0000   0.0000
regionFI1D                                         0.0000   0.0000
tenure_statusOwner without outstanding mortgage    0.0000   0.0000
tenure_statusOwner with outstanding mortgage       0.0000   0.0000
tenure_statusTenant, rent at market price          0.0000   0.0000
tenure_statusTenant, rent at reduced price         0.0000   0.0000
tenure_statusTenant, rent free                     0.0000   0.0000
                                                Std. Pair Dist.
n_persons                                                0.0000
income_disposable_eqi                                    0.3772
eligibility_allowance_housing                            0.2625
regionFI19                                               0.0000
regionFI1B                                               0.0000
regionFI1C                                               0.0000
regionFI1D                                               0.0000
tenure_statusOwner without outstanding mortgage          0.0000
tenure_statusOwner with outstanding mortgage             0.0000
tenure_statusTenant, rent at market price                0.0000
tenure_statusTenant, rent at reduced price               0.0000
tenure_statusTenant, rent free                           0.0000

Sample Sizes:
              Control Treated
All            3176.      696
Matched (ESS)    74.2     691
Matched         258.      691
Unmatched      2918.        5
Discarded         0.        0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">summary</span>(fi_allowance_2023_match))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="eligibility_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>fi_allowance_2023_match_df <span class="ot">&lt;-</span> <span class="fu">match_data</span>(fi_allowance_2023_match) <span class="sc">%&gt;%</span> </span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate_dimensions</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">takeup_allowance_housing =</span> <span class="fu">factor</span>(takeup_allowance_housing, </span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>                                               <span class="at">levels =</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">TRUE</span>), </span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>                                               <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"No, not taking benefits"</span>,</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>                                                          <span class="st">"Yes, taking benefits"</span>)), </span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">eligibility_allowance_housing =</span> eligibility_allowance_housing <span class="sc">/</span> <span class="dv">10</span>)</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>m2_aff <span class="ot">&lt;-</span> <span class="fu">glm</span>(dim_affordability <span class="sc">~</span> takeup_allowance_housing <span class="sc">+</span></span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>                eligibility_allowance_housing, </span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="st">"binomial"</span>,</span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> fi_allowance_2023_match_df)</span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>m2_aff <span class="sc">%&gt;%</span> </span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>  modelsummary<span class="sc">::</span><span class="fu">modelsummary</span>(., <span class="at">stars =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<!-- preamble start -->

    <script>

      function styleCell_iravero8d77zucqym178(i, j, css_id) {
          var table = document.getElementById("tinytable_iravero8d77zucqym178");
          var cell = table.rows[i]?.cells[j];  // Safe navigation to avoid errors
          if (cell) {
              console.log(`Styling cell at (${i}, ${j}) with class ${css_id}`);
              cell.classList.add(css_id);
          } else {
              console.warn(`Cell at (${i}, ${j}) not found.`);
          }
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_iravero8d77zucqym178');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_iravero8d77zucqym178(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_iravero8d77zucqym178");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: 12, j: 1 },  ], css_id: 'tinytable_css_0xria98p03lgnnqyg48g',}, 
          { positions: [ { i: 6, j: 1 },  ], css_id: 'tinytable_css_ef2jpft3fddn401alcjj',}, 
          { positions: [ { i: 1, j: 1 }, { i: 2, j: 1 }, { i: 3, j: 1 }, { i: 4, j: 1 }, { i: 5, j: 1 }, { i: 10, j: 1 }, { i: 7, j: 1 }, { i: 8, j: 1 }, { i: 9, j: 1 }, { i: 11, j: 1 },  ], css_id: 'tinytable_css_bhk63tb4v20jz1o3w673',}, 
          { positions: [ { i: 0, j: 1 },  ], css_id: 'tinytable_css_8n7o4ytl2taaflqvqqf3',}, 
          { positions: [ { i: 12, j: 0 },  ], css_id: 'tinytable_css_d47zu6vrx8wh0xtxpicj',}, 
          { positions: [ { i: 6, j: 0 },  ], css_id: 'tinytable_css_vlp2kqjdc7czqof9n6gw',}, 
          { positions: [ { i: 1, j: 0 }, { i: 2, j: 0 }, { i: 3, j: 0 }, { i: 4, j: 0 }, { i: 5, j: 0 }, { i: 10, j: 0 }, { i: 7, j: 0 }, { i: 8, j: 0 }, { i: 9, j: 0 }, { i: 11, j: 0 },  ], css_id: 'tinytable_css_lt632z381kquacaw5310',}, 
          { positions: [ { i: 0, j: 0 },  ], css_id: 'tinytable_css_9qy9jxv0fdy6lm5jbgqt',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  styleCell_iravero8d77zucqym178(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <style>
      /* tinytable css entries after */
      .table td.tinytable_css_0xria98p03lgnnqyg48g, .table th.tinytable_css_0xria98p03lgnnqyg48g { text-align: center; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_ef2jpft3fddn401alcjj, .table th.tinytable_css_ef2jpft3fddn401alcjj { text-align: center; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_bhk63tb4v20jz1o3w673, .table th.tinytable_css_bhk63tb4v20jz1o3w673 { text-align: center; }
      .table td.tinytable_css_8n7o4ytl2taaflqvqqf3, .table th.tinytable_css_8n7o4ytl2taaflqvqqf3 { text-align: center; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
      .table td.tinytable_css_d47zu6vrx8wh0xtxpicj, .table th.tinytable_css_d47zu6vrx8wh0xtxpicj { text-align: left; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_vlp2kqjdc7czqof9n6gw, .table th.tinytable_css_vlp2kqjdc7czqof9n6gw { text-align: left; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_lt632z381kquacaw5310, .table th.tinytable_css_lt632z381kquacaw5310 { text-align: left; }
      .table td.tinytable_css_9qy9jxv0fdy6lm5jbgqt, .table th.tinytable_css_9qy9jxv0fdy6lm5jbgqt { text-align: left; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_iravero8d77zucqym178" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="2">+ p &lt; 0.1, * p &lt; 0.05, ** p &lt; 0.01, *** p &lt; 0.001</td></tr></tfoot>
        <tbody>
                <tr>
                  <td>(Intercept)</td>
                  <td>-3.082***</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.264)</td>
                </tr>
                <tr>
                  <td>takeup_allowance_housingYes, taking benefits</td>
                  <td>-1.569***</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.339)</td>
                </tr>
                <tr>
                  <td>eligibility_allowance_housing</td>
                  <td>0.167***</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.011)</td>
                </tr>
                <tr>
                  <td>Num.Obs.</td>
                  <td>949</td>
                </tr>
                <tr>
                  <td>AIC</td>
                  <td>467.8</td>
                </tr>
                <tr>
                  <td>BIC</td>
                  <td>482.3</td>
                </tr>
                <tr>
                  <td>Log.Lik.</td>
                  <td>-230.877</td>
                </tr>
                <tr>
                  <td>F</td>
                  <td>123.591</td>
                </tr>
                <tr>
                  <td>RMSE</td>
                  <td>0.27</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>modelsummary<span class="sc">::</span><span class="fu">modelplot</span>(m2_aff, <span class="at">exponentiate =</span> <span class="cn">TRUE</span>,</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>                        <span class="at">coef_map =</span> <span class="fu">c</span>(</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"eligibility_allowance_housing"</span><span class="ot">=</span><span class="st">"Housing benefits eligibility (amount, 10 EUR)"</span>,</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"takeup_allowance_housingYes, taking benefits"</span><span class="ot">=</span><span class="st">"Yes, taking benefits"</span>)) <span class="sc">+</span> </span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>() <span class="sc">+</span> </span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Odds ratios and 95% CI"</span>) <span class="sc">+</span> </span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">1</span>) <span class="sc">+</span> </span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Effect of housing benefits on unaffordability"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="eligibility_files/figure-html/unnamed-chunk-4-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"figs/fig_effect_affordability_finland.png"</span>, <span class="at">width =</span> <span class="dv">8</span>, <span class="at">height =</span> <span class="dv">6</span>, <span class="at">bg =</span> <span class="st">"white"</span>)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"figs/fig_effect_quality.png"</span>, <span class="at">width =</span> <span class="dv">8</span>, <span class="at">height =</span> <span class="dv">6</span>, <span class="at">bg =</span> <span class="st">"white"</span>)</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>m2_qual <span class="ot">&lt;-</span> <span class="fu">glm</span>(dim_quality <span class="sc">~</span> takeup_allowance_housing <span class="sc">+</span> eligibility_allowance_housing, </span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="st">"binomial"</span>,</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> fi_allowance_2023_match_df) </span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>m2_qual <span class="sc">%&gt;%</span> </span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>  modelsummary<span class="sc">::</span><span class="fu">modelsummary</span>(., <span class="at">stars =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<!-- preamble start -->

    <script>

      function styleCell_0d49xfhs6i71bue7j9z8(i, j, css_id) {
          var table = document.getElementById("tinytable_0d49xfhs6i71bue7j9z8");
          var cell = table.rows[i]?.cells[j];  // Safe navigation to avoid errors
          if (cell) {
              console.log(`Styling cell at (${i}, ${j}) with class ${css_id}`);
              cell.classList.add(css_id);
          } else {
              console.warn(`Cell at (${i}, ${j}) not found.`);
          }
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_0d49xfhs6i71bue7j9z8');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_0d49xfhs6i71bue7j9z8(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_0d49xfhs6i71bue7j9z8");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: 12, j: 1 },  ], css_id: 'tinytable_css_juw6gsaccj9hogoshuzb',}, 
          { positions: [ { i: 6, j: 1 },  ], css_id: 'tinytable_css_ab9qpyc1my9gbeaqo7o7',}, 
          { positions: [ { i: 1, j: 1 }, { i: 2, j: 1 }, { i: 3, j: 1 }, { i: 4, j: 1 }, { i: 5, j: 1 }, { i: 10, j: 1 }, { i: 7, j: 1 }, { i: 8, j: 1 }, { i: 9, j: 1 }, { i: 11, j: 1 },  ], css_id: 'tinytable_css_lrsm2skl9rtci8ou5xkw',}, 
          { positions: [ { i: 0, j: 1 },  ], css_id: 'tinytable_css_2z8y3xjcvh4pg4coipcr',}, 
          { positions: [ { i: 12, j: 0 },  ], css_id: 'tinytable_css_7eyf3h3x2xgw2v1ux22b',}, 
          { positions: [ { i: 6, j: 0 },  ], css_id: 'tinytable_css_g21qkg30nxcq5au4liqy',}, 
          { positions: [ { i: 1, j: 0 }, { i: 2, j: 0 }, { i: 3, j: 0 }, { i: 4, j: 0 }, { i: 5, j: 0 }, { i: 10, j: 0 }, { i: 7, j: 0 }, { i: 8, j: 0 }, { i: 9, j: 0 }, { i: 11, j: 0 },  ], css_id: 'tinytable_css_jeqcxxqe6wfyt0tuz8ak',}, 
          { positions: [ { i: 0, j: 0 },  ], css_id: 'tinytable_css_95afprq2ggc7z4fjst71',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  styleCell_0d49xfhs6i71bue7j9z8(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <style>
      /* tinytable css entries after */
      .table td.tinytable_css_juw6gsaccj9hogoshuzb, .table th.tinytable_css_juw6gsaccj9hogoshuzb { text-align: center; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_ab9qpyc1my9gbeaqo7o7, .table th.tinytable_css_ab9qpyc1my9gbeaqo7o7 { text-align: center; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_lrsm2skl9rtci8ou5xkw, .table th.tinytable_css_lrsm2skl9rtci8ou5xkw { text-align: center; }
      .table td.tinytable_css_2z8y3xjcvh4pg4coipcr, .table th.tinytable_css_2z8y3xjcvh4pg4coipcr { text-align: center; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
      .table td.tinytable_css_7eyf3h3x2xgw2v1ux22b, .table th.tinytable_css_7eyf3h3x2xgw2v1ux22b { text-align: left; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_g21qkg30nxcq5au4liqy, .table th.tinytable_css_g21qkg30nxcq5au4liqy { text-align: left; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_jeqcxxqe6wfyt0tuz8ak, .table th.tinytable_css_jeqcxxqe6wfyt0tuz8ak { text-align: left; }
      .table td.tinytable_css_95afprq2ggc7z4fjst71, .table th.tinytable_css_95afprq2ggc7z4fjst71 { text-align: left; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_0d49xfhs6i71bue7j9z8" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="2">+ p &lt; 0.1, * p &lt; 0.05, ** p &lt; 0.01, *** p &lt; 0.001</td></tr></tfoot>
        <tbody>
                <tr>
                  <td>(Intercept)</td>
                  <td>-1.716***</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.169)</td>
                </tr>
                <tr>
                  <td>takeup_allowance_housingYes, taking benefits</td>
                  <td>0.581**</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.190)</td>
                </tr>
                <tr>
                  <td>eligibility_allowance_housing</td>
                  <td>0.018***</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.003)</td>
                </tr>
                <tr>
                  <td>Num.Obs.</td>
                  <td>948</td>
                </tr>
                <tr>
                  <td>AIC</td>
                  <td>1111.4</td>
                </tr>
                <tr>
                  <td>BIC</td>
                  <td>1126.0</td>
                </tr>
                <tr>
                  <td>Log.Lik.</td>
                  <td>-552.723</td>
                </tr>
                <tr>
                  <td>F</td>
                  <td>28.422</td>
                </tr>
                <tr>
                  <td>RMSE</td>
                  <td>0.45</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># glm(dim_quality2 ~ takeup_allowance_housing + eligibility_allowance_housing, </span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="co">#     family = "binomial",</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="co">#     data = fi_allowance_2023_match_df) %&gt;% </span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   modelsummary::modelsummary(., stars = TRUE)</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>modelsummary<span class="sc">::</span><span class="fu">modelplot</span>(m2_qual, <span class="at">exponentiate =</span> <span class="cn">TRUE</span>,</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>                        <span class="at">coef_map =</span> <span class="fu">c</span>(</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"eligibility_allowance_housing"</span><span class="ot">=</span><span class="st">"Housing benefits eligibility (amount, 10 EUR)"</span>,</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"takeup_allowance_housingYes, taking benefits"</span><span class="ot">=</span><span class="st">"Yes, taking benefits"</span>)) <span class="sc">+</span> </span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>() <span class="sc">+</span> </span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Odds ratios and 95% CI"</span>) <span class="sc">+</span> </span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">1</span>) <span class="sc">+</span> </span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Effect of housing benefits on quality"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="eligibility_files/figure-html/unnamed-chunk-4-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>m2_ins <span class="ot">&lt;-</span> <span class="fu">glm</span>(dim_insecurity <span class="sc">~</span> takeup_allowance_housing <span class="sc">+</span> eligibility_allowance_housing, </span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="st">"binomial"</span>,</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> fi_allowance_2023_match_df) </span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>m2_ins <span class="sc">%&gt;%</span> </span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>  modelsummary<span class="sc">::</span><span class="fu">modelsummary</span>(., <span class="at">stars =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<!-- preamble start -->

    <script>

      function styleCell_cg1aecdrm028q4ryb0qq(i, j, css_id) {
          var table = document.getElementById("tinytable_cg1aecdrm028q4ryb0qq");
          var cell = table.rows[i]?.cells[j];  // Safe navigation to avoid errors
          if (cell) {
              console.log(`Styling cell at (${i}, ${j}) with class ${css_id}`);
              cell.classList.add(css_id);
          } else {
              console.warn(`Cell at (${i}, ${j}) not found.`);
          }
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_cg1aecdrm028q4ryb0qq');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_cg1aecdrm028q4ryb0qq(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_cg1aecdrm028q4ryb0qq");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: 12, j: 1 },  ], css_id: 'tinytable_css_t9hpmqjup3f2036py5r7',}, 
          { positions: [ { i: 6, j: 1 },  ], css_id: 'tinytable_css_klmr0tm4r1njadwjkfqo',}, 
          { positions: [ { i: 1, j: 1 }, { i: 2, j: 1 }, { i: 3, j: 1 }, { i: 4, j: 1 }, { i: 5, j: 1 }, { i: 10, j: 1 }, { i: 7, j: 1 }, { i: 8, j: 1 }, { i: 9, j: 1 }, { i: 11, j: 1 },  ], css_id: 'tinytable_css_6o22nhmp5qbgwqd80rsw',}, 
          { positions: [ { i: 0, j: 1 },  ], css_id: 'tinytable_css_bjlv37p2eueeizz6hdso',}, 
          { positions: [ { i: 12, j: 0 },  ], css_id: 'tinytable_css_1v3ubxs0epfc84ukqrwl',}, 
          { positions: [ { i: 6, j: 0 },  ], css_id: 'tinytable_css_1628nv4f11lyinc7pahx',}, 
          { positions: [ { i: 1, j: 0 }, { i: 2, j: 0 }, { i: 3, j: 0 }, { i: 4, j: 0 }, { i: 5, j: 0 }, { i: 10, j: 0 }, { i: 7, j: 0 }, { i: 8, j: 0 }, { i: 9, j: 0 }, { i: 11, j: 0 },  ], css_id: 'tinytable_css_likc5ad6xuvbo26zjkqj',}, 
          { positions: [ { i: 0, j: 0 },  ], css_id: 'tinytable_css_9foal6e8252bbv0p86sy',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  styleCell_cg1aecdrm028q4ryb0qq(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <style>
      /* tinytable css entries after */
      .table td.tinytable_css_t9hpmqjup3f2036py5r7, .table th.tinytable_css_t9hpmqjup3f2036py5r7 { text-align: center; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_klmr0tm4r1njadwjkfqo, .table th.tinytable_css_klmr0tm4r1njadwjkfqo { text-align: center; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_6o22nhmp5qbgwqd80rsw, .table th.tinytable_css_6o22nhmp5qbgwqd80rsw { text-align: center; }
      .table td.tinytable_css_bjlv37p2eueeizz6hdso, .table th.tinytable_css_bjlv37p2eueeizz6hdso { text-align: center; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
      .table td.tinytable_css_1v3ubxs0epfc84ukqrwl, .table th.tinytable_css_1v3ubxs0epfc84ukqrwl { text-align: left; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_1628nv4f11lyinc7pahx, .table th.tinytable_css_1628nv4f11lyinc7pahx { text-align: left; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_likc5ad6xuvbo26zjkqj, .table th.tinytable_css_likc5ad6xuvbo26zjkqj { text-align: left; }
      .table td.tinytable_css_9foal6e8252bbv0p86sy, .table th.tinytable_css_9foal6e8252bbv0p86sy { text-align: left; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_cg1aecdrm028q4ryb0qq" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="2">+ p &lt; 0.1, * p &lt; 0.05, ** p &lt; 0.01, *** p &lt; 0.001</td></tr></tfoot>
        <tbody>
                <tr>
                  <td>(Intercept)</td>
                  <td>-2.169***</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.205)</td>
                </tr>
                <tr>
                  <td>takeup_allowance_housingYes, taking benefits</td>
                  <td>0.565*</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.232)</td>
                </tr>
                <tr>
                  <td>eligibility_allowance_housing</td>
                  <td>0.006</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.004)</td>
                </tr>
                <tr>
                  <td>Num.Obs.</td>
                  <td>949</td>
                </tr>
                <tr>
                  <td>AIC</td>
                  <td>857.5</td>
                </tr>
                <tr>
                  <td>BIC</td>
                  <td>872.1</td>
                </tr>
                <tr>
                  <td>Log.Lik.</td>
                  <td>-425.751</td>
                </tr>
                <tr>
                  <td>F</td>
                  <td>5.901</td>
                </tr>
                <tr>
                  <td>RMSE</td>
                  <td>0.37</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>modelsummary<span class="sc">::</span><span class="fu">modelplot</span>(m2_ins, <span class="at">exponentiate =</span> <span class="cn">TRUE</span>,</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>                        <span class="at">coef_map =</span> <span class="fu">c</span>(</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"eligibility_allowance_housing"</span><span class="ot">=</span><span class="st">"Housing benefits eligibility (amount, 10 EUR)"</span>,</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>                          <span class="st">"takeup_allowance_housingYes, taking benefits"</span><span class="ot">=</span><span class="st">"Yes, taking benefits"</span>)) <span class="sc">+</span> </span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>() <span class="sc">+</span> </span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Odds ratios and 95% CI"</span>) <span class="sc">+</span> </span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">1</span>) <span class="sc">+</span> </span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Effect of housing benefits on insecurity"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="eligibility_files/figure-html/unnamed-chunk-4-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"figs/fig2_effect_insecurity_finland.png"</span>, <span class="at">width =</span> <span class="dv">8</span>, <span class="at">height =</span> <span class="dv">6</span>, <span class="at">bg =</span> <span class="st">"white"</span>)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="fu">glm</span>(dim_locality <span class="sc">~</span> takeup_allowance_housing <span class="sc">+</span> eligibility_allowance_housing, </span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="st">"binomial"</span>,</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> fi_allowance_2023_match_df) <span class="sc">%&gt;%</span> </span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>  modelsummary<span class="sc">::</span><span class="fu">modelsummary</span>(., <span class="at">stars =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<!-- preamble start -->

    <script>

      function styleCell_ppb0ls779oqfuj7zzf6t(i, j, css_id) {
          var table = document.getElementById("tinytable_ppb0ls779oqfuj7zzf6t");
          var cell = table.rows[i]?.cells[j];  // Safe navigation to avoid errors
          if (cell) {
              console.log(`Styling cell at (${i}, ${j}) with class ${css_id}`);
              cell.classList.add(css_id);
          } else {
              console.warn(`Cell at (${i}, ${j}) not found.`);
          }
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_ppb0ls779oqfuj7zzf6t');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_ppb0ls779oqfuj7zzf6t(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_ppb0ls779oqfuj7zzf6t");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: 12, j: 1 },  ], css_id: 'tinytable_css_3z5ywfuv92kbolh3ugt5',}, 
          { positions: [ { i: 6, j: 1 },  ], css_id: 'tinytable_css_rvnjpzah3gjjlk5fzhm0',}, 
          { positions: [ { i: 1, j: 1 }, { i: 2, j: 1 }, { i: 3, j: 1 }, { i: 4, j: 1 }, { i: 5, j: 1 }, { i: 10, j: 1 }, { i: 7, j: 1 }, { i: 8, j: 1 }, { i: 9, j: 1 }, { i: 11, j: 1 },  ], css_id: 'tinytable_css_fs072tc3rjqfstnarsgt',}, 
          { positions: [ { i: 0, j: 1 },  ], css_id: 'tinytable_css_zgu74ivmex01cnufncvg',}, 
          { positions: [ { i: 12, j: 0 },  ], css_id: 'tinytable_css_zx0vs4c7whch0b23spou',}, 
          { positions: [ { i: 6, j: 0 },  ], css_id: 'tinytable_css_b3ory0l5nxeql3f8zmk7',}, 
          { positions: [ { i: 1, j: 0 }, { i: 2, j: 0 }, { i: 3, j: 0 }, { i: 4, j: 0 }, { i: 5, j: 0 }, { i: 10, j: 0 }, { i: 7, j: 0 }, { i: 8, j: 0 }, { i: 9, j: 0 }, { i: 11, j: 0 },  ], css_id: 'tinytable_css_2t584scmn1pf36x6iuyh',}, 
          { positions: [ { i: 0, j: 0 },  ], css_id: 'tinytable_css_4sdibspici2dgxo6qcgs',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  styleCell_ppb0ls779oqfuj7zzf6t(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <style>
      /* tinytable css entries after */
      .table td.tinytable_css_3z5ywfuv92kbolh3ugt5, .table th.tinytable_css_3z5ywfuv92kbolh3ugt5 { text-align: center; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_rvnjpzah3gjjlk5fzhm0, .table th.tinytable_css_rvnjpzah3gjjlk5fzhm0 { text-align: center; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_fs072tc3rjqfstnarsgt, .table th.tinytable_css_fs072tc3rjqfstnarsgt { text-align: center; }
      .table td.tinytable_css_zgu74ivmex01cnufncvg, .table th.tinytable_css_zgu74ivmex01cnufncvg { text-align: center; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
      .table td.tinytable_css_zx0vs4c7whch0b23spou, .table th.tinytable_css_zx0vs4c7whch0b23spou { text-align: left; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_b3ory0l5nxeql3f8zmk7, .table th.tinytable_css_b3ory0l5nxeql3f8zmk7 { text-align: left; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_2t584scmn1pf36x6iuyh, .table th.tinytable_css_2t584scmn1pf36x6iuyh { text-align: left; }
      .table td.tinytable_css_4sdibspici2dgxo6qcgs, .table th.tinytable_css_4sdibspici2dgxo6qcgs { text-align: left; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_ppb0ls779oqfuj7zzf6t" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="2">+ p &lt; 0.1, * p &lt; 0.05, ** p &lt; 0.01, *** p &lt; 0.001</td></tr></tfoot>
        <tbody>
                <tr>
                  <td>(Intercept)</td>
                  <td>-0.517***</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.131)</td>
                </tr>
                <tr>
                  <td>takeup_allowance_housingYes, taking benefits</td>
                  <td>0.289+</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.158)</td>
                </tr>
                <tr>
                  <td>eligibility_allowance_housing</td>
                  <td>0.011***</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.003)</td>
                </tr>
                <tr>
                  <td>Num.Obs.</td>
                  <td>946</td>
                </tr>
                <tr>
                  <td>AIC</td>
                  <td>1290.8</td>
                </tr>
                <tr>
                  <td>BIC</td>
                  <td>1305.4</td>
                </tr>
                <tr>
                  <td>Log.Lik.</td>
                  <td>-642.407</td>
                </tr>
                <tr>
                  <td>F</td>
                  <td>12.618</td>
                </tr>
                <tr>
                  <td>RMSE</td>
                  <td>0.49</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glm</span>(ability_to_keep_warm <span class="sc">~</span> takeup_allowance_housing <span class="sc">+</span> eligibility_allowance_housing, </span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">family =</span> <span class="st">"binomial"</span>,</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> fi_allowance_2023_match_df <span class="sc">%&gt;%</span> </span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(ability_to_keep_warm <span class="sc">==</span> <span class="st">"Yes"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>  modelsummary<span class="sc">::</span><span class="fu">modelsummary</span>(., <span class="at">stars =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<!-- preamble start -->

    <script>

      function styleCell_kxhul59nq0tpqnmy12oq(i, j, css_id) {
          var table = document.getElementById("tinytable_kxhul59nq0tpqnmy12oq");
          var cell = table.rows[i]?.cells[j];  // Safe navigation to avoid errors
          if (cell) {
              console.log(`Styling cell at (${i}, ${j}) with class ${css_id}`);
              cell.classList.add(css_id);
          } else {
              console.warn(`Cell at (${i}, ${j}) not found.`);
          }
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_kxhul59nq0tpqnmy12oq');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_kxhul59nq0tpqnmy12oq(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_kxhul59nq0tpqnmy12oq");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
      // tinytable span after
      window.addEventListener('load', function () {
          var cellsToStyle = [
            // tinytable style arrays after
          { positions: [ { i: 12, j: 1 },  ], css_id: 'tinytable_css_qokf8h84eoscg59hq3yy',}, 
          { positions: [ { i: 6, j: 1 },  ], css_id: 'tinytable_css_xpano8go82s7my7ettg2',}, 
          { positions: [ { i: 1, j: 1 }, { i: 2, j: 1 }, { i: 3, j: 1 }, { i: 4, j: 1 }, { i: 5, j: 1 }, { i: 10, j: 1 }, { i: 7, j: 1 }, { i: 8, j: 1 }, { i: 9, j: 1 }, { i: 11, j: 1 },  ], css_id: 'tinytable_css_a63ue0ne6lzpz7yhmety',}, 
          { positions: [ { i: 0, j: 1 },  ], css_id: 'tinytable_css_9lktgz6g8okqm0a3e6p8',}, 
          { positions: [ { i: 12, j: 0 },  ], css_id: 'tinytable_css_hhnmlcppghlqk8hf1po4',}, 
          { positions: [ { i: 6, j: 0 },  ], css_id: 'tinytable_css_m5dntb0ttehncajp9wqk',}, 
          { positions: [ { i: 1, j: 0 }, { i: 2, j: 0 }, { i: 3, j: 0 }, { i: 4, j: 0 }, { i: 5, j: 0 }, { i: 10, j: 0 }, { i: 7, j: 0 }, { i: 8, j: 0 }, { i: 9, j: 0 }, { i: 11, j: 0 },  ], css_id: 'tinytable_css_7yk6vhw3zg8ecmw89bqp',}, 
          { positions: [ { i: 0, j: 0 },  ], css_id: 'tinytable_css_tzwextwqv1lojn37k6wg',}, 
          ];

          // Loop over the arrays to style the cells
          cellsToStyle.forEach(function (group) {
              group.positions.forEach(function (cell) {
                  styleCell_kxhul59nq0tpqnmy12oq(cell.i, cell.j, group.css_id);
              });
          });
      });
    </script>

    <style>
      /* tinytable css entries after */
      .table td.tinytable_css_qokf8h84eoscg59hq3yy, .table th.tinytable_css_qokf8h84eoscg59hq3yy { text-align: center; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_xpano8go82s7my7ettg2, .table th.tinytable_css_xpano8go82s7my7ettg2 { text-align: center; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_a63ue0ne6lzpz7yhmety, .table th.tinytable_css_a63ue0ne6lzpz7yhmety { text-align: center; }
      .table td.tinytable_css_9lktgz6g8okqm0a3e6p8, .table th.tinytable_css_9lktgz6g8okqm0a3e6p8 { text-align: center; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
      .table td.tinytable_css_hhnmlcppghlqk8hf1po4, .table th.tinytable_css_hhnmlcppghlqk8hf1po4 { text-align: left; border-bottom: solid #d3d8dc 0.1em; }
      .table td.tinytable_css_m5dntb0ttehncajp9wqk, .table th.tinytable_css_m5dntb0ttehncajp9wqk { text-align: left; border-bottom: solid black 0.05em; }
      .table td.tinytable_css_7yk6vhw3zg8ecmw89bqp, .table th.tinytable_css_7yk6vhw3zg8ecmw89bqp { text-align: left; }
      .table td.tinytable_css_tzwextwqv1lojn37k6wg, .table th.tinytable_css_tzwextwqv1lojn37k6wg { text-align: left; border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_kxhul59nq0tpqnmy12oq" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="2">+ p &lt; 0.1, * p &lt; 0.05, ** p &lt; 0.01, *** p &lt; 0.001</td></tr></tfoot>
        <tbody>
                <tr>
                  <td>(Intercept)</td>
                  <td>-3.938***</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.426)</td>
                </tr>
                <tr>
                  <td>takeup_allowance_housingYes, taking benefits</td>
                  <td>0.513</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.464)</td>
                </tr>
                <tr>
                  <td>eligibility_allowance_housing</td>
                  <td>0.015**</td>
                </tr>
                <tr>
                  <td></td>
                  <td>(0.006)</td>
                </tr>
                <tr>
                  <td>Num.Obs.</td>
                  <td>945</td>
                </tr>
                <tr>
                  <td>AIC</td>
                  <td>333.4</td>
                </tr>
                <tr>
                  <td>BIC</td>
                  <td>347.9</td>
                </tr>
                <tr>
                  <td>Log.Lik.</td>
                  <td>-163.689</td>
                </tr>
                <tr>
                  <td>F</td>
                  <td>5.032</td>
                </tr>
                <tr>
                  <td>RMSE</td>
                  <td>0.20</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</section>
<section id="austria" class="level2">
<h2 class="anchored" data-anchor-id="austria">Austria</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>at_2023 <span class="ot">&lt;-</span> r_silc_2023 <span class="sc">%&gt;%</span> </span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">"AT"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="netherlands" class="level2">
<h2 class="anchored" data-anchor-id="netherlands">Netherlands</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># https://euromod-web.jrc.ec.europa.eu/sites/default/files/2025-04/Y15_CR_NL_final.pdf</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>nl_2023 <span class="ot">&lt;-</span> r_silc_2023 <span class="sc">%&gt;%</span> </span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">"NL"</span>)</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>NL_PENSION_AGE <span class="ot">&lt;-</span> <span class="dv">67</span></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>nl_2023 <span class="sc">%&gt;%</span> </span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(tenure_status, rent, total_housing_cost, allowance_housing) <span class="sc">%&gt;%</span> </span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a>recode_nan_share <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">case_when</span>(</span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.nan</span>(x) <span class="sc">~</span> x,</span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a>    n_pension_age <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="dv">0</span>, </span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a>    n_pension_age <span class="sc">==</span> n_persons <span class="sc">~</span> <span class="dv">1</span></span>
<span id="cb46-16"><a href="#cb46-16" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb46-17"><a href="#cb46-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb46-18"><a href="#cb46-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-19"><a href="#cb46-19" aria-hidden="true" tabindex="-1"></a>r_nl_2023 <span class="ot">&lt;-</span> nl_2023 <span class="sc">%&gt;%</span> </span>
<span id="cb46-20"><a href="#cb46-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb46-21"><a href="#cb46-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">person_net_income =</span> <span class="fu">rowSums</span>(<span class="fu">across</span>(</span>
<span id="cb46-22"><a href="#cb46-22" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(person_net_cash_income, person_net_selfemployed_income, </span>
<span id="cb46-23"><a href="#cb46-23" aria-hidden="true" tabindex="-1"></a>        person_net_unemployment_benefits, person_net_oldage_benefits, </span>
<span id="cb46-24"><a href="#cb46-24" aria-hidden="true" tabindex="-1"></a>        person_net_survivor_benefits, person_net_sickness_benefits, </span>
<span id="cb46-25"><a href="#cb46-25" aria-hidden="true" tabindex="-1"></a>        person_net_disability_benefits, person_net_education_benefits)</span>
<span id="cb46-26"><a href="#cb46-26" aria-hidden="true" tabindex="-1"></a>    ), <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb46-27"><a href="#cb46-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">r_rent =</span> <span class="fu">if_na</span>(rent, <span class="dv">0</span>),</span>
<span id="cb46-28"><a href="#cb46-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">is_pensioner =</span> age <span class="sc">&gt;=</span> NL_PENSION_AGE</span>
<span id="cb46-29"><a href="#cb46-29" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb46-30"><a href="#cb46-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hh_id) <span class="sc">%&gt;%</span> </span>
<span id="cb46-31"><a href="#cb46-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb46-32"><a href="#cb46-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">hh_income =</span> <span class="fu">sum</span>(person_net_income),</span>
<span id="cb46-33"><a href="#cb46-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_pension_age =</span> <span class="fu">sum</span>(age <span class="sc">&gt;=</span> NL_PENSION_AGE), </span>
<span id="cb46-34"><a href="#cb46-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">income_pensioners_share =</span> </span>
<span id="cb46-35"><a href="#cb46-35" aria-hidden="true" tabindex="-1"></a>      <span class="fu">case_when</span>(</span>
<span id="cb46-36"><a href="#cb46-36" aria-hidden="true" tabindex="-1"></a>        hh_income <span class="sc">!=</span> <span class="dv">0</span> <span class="sc">~</span> <span class="fu">sum</span>(person_net_income <span class="sc">*</span> is_pensioner) <span class="sc">/</span> hh_income, </span>
<span id="cb46-37"><a href="#cb46-37" aria-hidden="true" tabindex="-1"></a>        n_pension_age <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="dv">0</span>, </span>
<span id="cb46-38"><a href="#cb46-38" aria-hidden="true" tabindex="-1"></a>        n_pension_age <span class="sc">==</span> n_persons <span class="sc">~</span> <span class="dv">1</span></span>
<span id="cb46-39"><a href="#cb46-39" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb46-40"><a href="#cb46-40" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb46-41"><a href="#cb46-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb46-42"><a href="#cb46-42" aria-hidden="true" tabindex="-1"></a>    is_pensioner, income_pensioners_share, person_net_income, <span class="fu">everything</span>()</span>
<span id="cb46-43"><a href="#cb46-43" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb46-44"><a href="#cb46-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb46-45"><a href="#cb46-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">household_type =</span> <span class="fu">case_when</span>(</span>
<span id="cb46-46"><a href="#cb46-46" aria-hidden="true" tabindex="-1"></a>      n_persons <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> n_pension_age <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">"A"</span>,</span>
<span id="cb46-47"><a href="#cb46-47" aria-hidden="true" tabindex="-1"></a>      n_persons <span class="sc">&gt;</span> <span class="dv">1</span> <span class="sc">&amp;</span> income_pensioners_share <span class="sc">&lt;</span> <span class="fl">0.5</span> <span class="sc">~</span> <span class="st">"C"</span>,</span>
<span id="cb46-48"><a href="#cb46-48" aria-hidden="true" tabindex="-1"></a>      n_persons <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> n_pension_age <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"E"</span>,</span>
<span id="cb46-49"><a href="#cb46-49" aria-hidden="true" tabindex="-1"></a>      n_persons <span class="sc">&gt;</span> <span class="dv">1</span> <span class="sc">&amp;</span> income_pensioners_share <span class="sc">&gt;=</span> <span class="fl">0.5</span> <span class="sc">~</span> <span class="st">"G"</span></span>
<span id="cb46-50"><a href="#cb46-50" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb46-51"><a href="#cb46-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">norm_rent =</span> <span class="fu">case_when</span>(</span>
<span id="cb46-52"><a href="#cb46-52" aria-hidden="true" tabindex="-1"></a>      household_type <span class="sc">==</span> <span class="st">"A"</span> <span class="sc">~</span> <span class="fl">5.96879E-07</span> <span class="sc">*</span> income_disposable <span class="sc">^</span> <span class="dv">2</span> <span class="sc">+</span> </span>
<span id="cb46-53"><a href="#cb46-53" aria-hidden="true" tabindex="-1"></a>        <span class="fl">0.002363459</span> <span class="sc">*</span> income_disposable <span class="sc">+</span> <span class="fl">16.94</span>,</span>
<span id="cb46-54"><a href="#cb46-54" aria-hidden="true" tabindex="-1"></a>      household_type <span class="sc">==</span> <span class="st">"C"</span> <span class="sc">~</span> x,</span>
<span id="cb46-55"><a href="#cb46-55" aria-hidden="true" tabindex="-1"></a>      household_type <span class="sc">==</span> <span class="st">"E"</span> <span class="sc">~</span> x,</span>
<span id="cb46-56"><a href="#cb46-56" aria-hidden="true" tabindex="-1"></a>      household_type <span class="sc">==</span> <span class="st">"G"</span> <span class="sc">~</span> x,</span>
<span id="cb46-57"><a href="#cb46-57" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb46-58"><a href="#cb46-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">housing_allowance_eligibility =</span> <span class="fu">case_when</span>(</span>
<span id="cb46-59"><a href="#cb46-59" aria-hidden="true" tabindex="-1"></a>      tenure_status <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Owner without outstanding mortgage"</span>, <span class="st">"Owner with outstanding mortgage"</span>, </span>
<span id="cb46-60"><a href="#cb46-60" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Tenant, rent free"</span>) <span class="sc">~</span> <span class="dv">0</span>,</span>
<span id="cb46-61"><a href="#cb46-61" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb46-62"><a href="#cb46-62" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb46-63"><a href="#cb46-63" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb46-64"><a href="#cb46-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-65"><a href="#cb46-65" aria-hidden="true" tabindex="-1"></a><span class="co"># </span><span class="al">TODO</span><span class="co">: Asset test (Asset test: no rent subsidy is paid if tax payable on income in Box 3 is nonzero.)</span></span>
<span id="cb46-66"><a href="#cb46-66" aria-hidden="true" tabindex="-1"></a><span class="co"># The general tax free asset allowance is €30,846 per person.</span></span>
<span id="cb46-67"><a href="#cb46-67" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(r_nl_2023<span class="sc">$</span>household_type, <span class="at">useNA =</span> <span class="st">"always"</span>)</span>
<span id="cb46-68"><a href="#cb46-68" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb46-69"><a href="#cb46-69" aria-hidden="true" tabindex="-1"></a>r_nl_2023 <span class="sc">%&gt;%</span> </span>
<span id="cb46-70"><a href="#cb46-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(household_type)) <span class="sc">%&gt;%</span></span>
<span id="cb46-71"><a href="#cb46-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(is_pensioner, n_persons, n_pension_age) <span class="sc">%&gt;%</span> </span>
<span id="cb46-72"><a href="#cb46-72" aria-hidden="true" tabindex="-1"></a>  <span class="fu">View</span>()</span>
<span id="cb46-73"><a href="#cb46-73" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab</span>(household_type)</span>
<span id="cb46-74"><a href="#cb46-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-75"><a href="#cb46-75" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>()</span>
<span id="cb46-76"><a href="#cb46-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-77"><a href="#cb46-77" aria-hidden="true" tabindex="-1"></a>nl_2023 <span class="sc">%&gt;%</span> </span>
<span id="cb46-78"><a href="#cb46-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hh_id) <span class="sc">%&gt;%</span> </span>
<span id="cb46-79"><a href="#cb46-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb46-80"><a href="#cb46-80" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb46-81"><a href="#cb46-81" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb46-82"><a href="#cb46-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb46-83"><a href="#cb46-83" aria-hidden="true" tabindex="-1"></a>    <span class="at">household_type =</span> <span class="fu">case_when</span>(</span>
<span id="cb46-84"><a href="#cb46-84" aria-hidden="true" tabindex="-1"></a>      n_persons <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> n_pension_age <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">"A"</span>,</span>
<span id="cb46-85"><a href="#cb46-85" aria-hidden="true" tabindex="-1"></a>      n_persons <span class="sc">&gt;</span> <span class="dv">1</span> <span class="sc">&amp;</span> income_pensioners_share <span class="sc">&lt;</span> <span class="fl">0.5</span> <span class="sc">~</span> <span class="st">"C"</span>,</span>
<span id="cb46-86"><a href="#cb46-86" aria-hidden="true" tabindex="-1"></a>      n_persons <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> n_pension_age <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"E"</span>,</span>
<span id="cb46-87"><a href="#cb46-87" aria-hidden="true" tabindex="-1"></a>      n_persons <span class="sc">&gt;</span> <span class="dv">1</span> <span class="sc">&amp;</span> income_pensioners_share <span class="sc">&gt;=</span> <span class="fl">0.5</span> <span class="sc">~</span> <span class="st">"G"</span></span>
<span id="cb46-88"><a href="#cb46-88" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb46-89"><a href="#cb46-89" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb46-90"><a href="#cb46-90" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb46-91"><a href="#cb46-91" aria-hidden="true" tabindex="-1"></a>    r_rent, household_type</span>
<span id="cb46-92"><a href="#cb46-92" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>